<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hadoopç”Ÿäº§è°ƒä¼˜ | ğŸ¦</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="webå‰ç«¯æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨webå‰ç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="ä¸ªäººæŠ€æœ¯åšå®¢,åç«¯,å¤§æ•°æ®,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,js,vue,python,css3,java,javaEE,SpringBoot,Spring,Hadoop,html5,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.546f0649.css" as="style"><link rel="preload" href="/assets/js/app.e7d9515b.js" as="script"><link rel="preload" href="/assets/js/2.125ae6e8.js" as="script"><link rel="preload" href="/assets/js/20.8fbb5432.js" as="script"><link rel="prefetch" href="/assets/js/10.95c2d7b0.js"><link rel="prefetch" href="/assets/js/100.b4e10546.js"><link rel="prefetch" href="/assets/js/101.d6d23fe2.js"><link rel="prefetch" href="/assets/js/102.b368fb26.js"><link rel="prefetch" href="/assets/js/103.b87bfabc.js"><link rel="prefetch" href="/assets/js/104.3d0ae07d.js"><link rel="prefetch" href="/assets/js/105.e9f9588c.js"><link rel="prefetch" href="/assets/js/106.76130cbc.js"><link rel="prefetch" href="/assets/js/107.11dd35ba.js"><link rel="prefetch" href="/assets/js/108.de8bb9b7.js"><link rel="prefetch" href="/assets/js/109.e26f138c.js"><link rel="prefetch" href="/assets/js/11.5682c637.js"><link rel="prefetch" href="/assets/js/110.2c9036b9.js"><link rel="prefetch" href="/assets/js/111.d91b7424.js"><link rel="prefetch" href="/assets/js/112.0edf9093.js"><link rel="prefetch" href="/assets/js/113.dbc0bf4d.js"><link rel="prefetch" href="/assets/js/114.439ad4ee.js"><link rel="prefetch" href="/assets/js/115.0cff9cd8.js"><link rel="prefetch" href="/assets/js/116.fd44dc61.js"><link rel="prefetch" href="/assets/js/117.e893d264.js"><link rel="prefetch" href="/assets/js/118.ec4b3d32.js"><link rel="prefetch" href="/assets/js/119.ea5c3eba.js"><link rel="prefetch" href="/assets/js/12.5a51d307.js"><link rel="prefetch" href="/assets/js/120.9aaee23f.js"><link rel="prefetch" href="/assets/js/121.4fc7842c.js"><link rel="prefetch" href="/assets/js/122.2b8f75d1.js"><link rel="prefetch" href="/assets/js/123.78dbfead.js"><link rel="prefetch" href="/assets/js/124.84b6382a.js"><link rel="prefetch" href="/assets/js/125.c2a2a818.js"><link rel="prefetch" href="/assets/js/126.83ea2963.js"><link rel="prefetch" href="/assets/js/127.dffd5eae.js"><link rel="prefetch" href="/assets/js/128.bb0a0738.js"><link rel="prefetch" href="/assets/js/129.45a56702.js"><link rel="prefetch" href="/assets/js/13.d1b5b29f.js"><link rel="prefetch" href="/assets/js/130.7fee331a.js"><link rel="prefetch" href="/assets/js/131.6aaa557b.js"><link rel="prefetch" href="/assets/js/132.9526e280.js"><link rel="prefetch" href="/assets/js/133.610c1c84.js"><link rel="prefetch" href="/assets/js/134.1dcf27f7.js"><link rel="prefetch" href="/assets/js/14.83de980a.js"><link rel="prefetch" href="/assets/js/15.0fa06ae1.js"><link rel="prefetch" href="/assets/js/16.d1d3c9c1.js"><link rel="prefetch" href="/assets/js/17.c9772d78.js"><link rel="prefetch" href="/assets/js/18.7cbf0ef4.js"><link rel="prefetch" href="/assets/js/19.66ee7cfc.js"><link rel="prefetch" href="/assets/js/21.74a586bf.js"><link rel="prefetch" href="/assets/js/22.f85a2ced.js"><link rel="prefetch" href="/assets/js/23.a65163b5.js"><link rel="prefetch" href="/assets/js/24.5c2898c6.js"><link rel="prefetch" href="/assets/js/25.929f22ff.js"><link rel="prefetch" href="/assets/js/26.20d74c65.js"><link rel="prefetch" href="/assets/js/27.e790af79.js"><link rel="prefetch" href="/assets/js/28.6b84abe6.js"><link rel="prefetch" href="/assets/js/29.acc0fc34.js"><link rel="prefetch" href="/assets/js/3.dd3750e6.js"><link rel="prefetch" href="/assets/js/30.fadb6cbd.js"><link rel="prefetch" href="/assets/js/31.386f82c2.js"><link rel="prefetch" href="/assets/js/32.e934f71c.js"><link rel="prefetch" href="/assets/js/33.684ac64c.js"><link rel="prefetch" href="/assets/js/34.38f8fd76.js"><link rel="prefetch" href="/assets/js/35.3fe27233.js"><link rel="prefetch" href="/assets/js/36.993695b7.js"><link rel="prefetch" href="/assets/js/37.d735018c.js"><link rel="prefetch" href="/assets/js/38.0d23a384.js"><link rel="prefetch" href="/assets/js/39.808de65c.js"><link rel="prefetch" href="/assets/js/4.4a137b18.js"><link rel="prefetch" href="/assets/js/40.2fc7d5f7.js"><link rel="prefetch" href="/assets/js/41.6647cff7.js"><link rel="prefetch" href="/assets/js/42.f4d93aa6.js"><link rel="prefetch" href="/assets/js/43.a5d40107.js"><link rel="prefetch" href="/assets/js/44.3ae864d3.js"><link rel="prefetch" href="/assets/js/45.c66f1afe.js"><link rel="prefetch" href="/assets/js/46.750f2be2.js"><link rel="prefetch" href="/assets/js/47.1722c1b9.js"><link rel="prefetch" href="/assets/js/48.7c8df7cc.js"><link rel="prefetch" href="/assets/js/49.f9b58d70.js"><link rel="prefetch" href="/assets/js/5.51ca929a.js"><link rel="prefetch" href="/assets/js/50.fad73ad9.js"><link rel="prefetch" href="/assets/js/51.b88c6213.js"><link rel="prefetch" href="/assets/js/52.21244293.js"><link rel="prefetch" href="/assets/js/53.1c2189f3.js"><link rel="prefetch" href="/assets/js/54.95ba12bc.js"><link rel="prefetch" href="/assets/js/55.d8f79989.js"><link rel="prefetch" href="/assets/js/56.63c36b2d.js"><link rel="prefetch" href="/assets/js/57.270857ec.js"><link rel="prefetch" href="/assets/js/58.156073cc.js"><link rel="prefetch" href="/assets/js/59.5a300643.js"><link rel="prefetch" href="/assets/js/6.2dccf462.js"><link rel="prefetch" href="/assets/js/60.92f4ce87.js"><link rel="prefetch" href="/assets/js/61.0f312cea.js"><link rel="prefetch" href="/assets/js/62.0c55901b.js"><link rel="prefetch" href="/assets/js/63.613b1add.js"><link rel="prefetch" href="/assets/js/64.1e5070b6.js"><link rel="prefetch" href="/assets/js/65.dc215238.js"><link rel="prefetch" href="/assets/js/66.4a1319e4.js"><link rel="prefetch" href="/assets/js/67.841428fe.js"><link rel="prefetch" href="/assets/js/68.7380e054.js"><link rel="prefetch" href="/assets/js/69.0a503182.js"><link rel="prefetch" href="/assets/js/7.1096b6fa.js"><link rel="prefetch" href="/assets/js/70.09f4c416.js"><link rel="prefetch" href="/assets/js/71.a279d635.js"><link rel="prefetch" href="/assets/js/72.057aa49f.js"><link rel="prefetch" href="/assets/js/73.767f542c.js"><link rel="prefetch" href="/assets/js/74.3eb6f7e5.js"><link rel="prefetch" href="/assets/js/75.50ecd31e.js"><link rel="prefetch" href="/assets/js/76.602f67fb.js"><link rel="prefetch" href="/assets/js/77.3b5a8e7d.js"><link rel="prefetch" href="/assets/js/78.40c6990e.js"><link rel="prefetch" href="/assets/js/79.ecb155e0.js"><link rel="prefetch" href="/assets/js/8.4b82b135.js"><link rel="prefetch" href="/assets/js/80.d7279b34.js"><link rel="prefetch" href="/assets/js/81.f58f78af.js"><link rel="prefetch" href="/assets/js/82.8399bcab.js"><link rel="prefetch" href="/assets/js/83.67c3c861.js"><link rel="prefetch" href="/assets/js/84.5a8f7c4b.js"><link rel="prefetch" href="/assets/js/85.c6f0af81.js"><link rel="prefetch" href="/assets/js/86.f9f3d0b8.js"><link rel="prefetch" href="/assets/js/87.fec83ae4.js"><link rel="prefetch" href="/assets/js/88.ca11e236.js"><link rel="prefetch" href="/assets/js/89.ae243724.js"><link rel="prefetch" href="/assets/js/9.b8d3ed93.js"><link rel="prefetch" href="/assets/js/90.c242e238.js"><link rel="prefetch" href="/assets/js/91.ad0080a6.js"><link rel="prefetch" href="/assets/js/92.a435d70c.js"><link rel="prefetch" href="/assets/js/93.3232bfbf.js"><link rel="prefetch" href="/assets/js/94.6101d03c.js"><link rel="prefetch" href="/assets/js/95.8c95af7a.js"><link rel="prefetch" href="/assets/js/96.a582908e.js"><link rel="prefetch" href="/assets/js/97.1b560b4f.js"><link rel="prefetch" href="/assets/js/98.a686266f.js"><link rel="prefetch" href="/assets/js/99.e03a81a9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.546f0649.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="ğŸ¦" class="logo"> <span class="site-name can-hide">ğŸ¦</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bigæ•°æ®" class="dropdown-title"><a href="/BigData/" class="link-title">Bigæ•°æ®</a> <span class="title" style="display:none;">Bigæ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¤§æ•°æ®è·¯çº¿</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2asd1/" class="nav-link">å¼€å‘è·¯çº¿</a></li><li class="dropdown-subitem"><a href="/pages/5cda13/" class="nav-link">linuxå¯¼å›¾</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/l2sdd2ad123/" class="nav-link">ã€ŠLinuxã€‹</a></li><li class="dropdown-subitem"><a href="/pages/hdf2shad2o4p3/" class="nav-link">ã€ŠHadoopã€‹</a></li><li class="dropdown-subitem"><a href="/pages/f2l2im24e/" class="nav-link">ã€Šç”Ÿæ€åœˆç»„ä»¶ã€‹</a></li><li class="dropdown-subitem"><a href="/pages/ka1f3k4a/" class="nav-link">ã€Šæ¶ˆæ¯é˜Ÿåˆ—ã€‹</a></li><li class="dropdown-subitem"><a href="/pages/spa123ra12sd2/" class="nav-link">ã€Šsparkã€‹</a></li><li class="dropdown-subitem"><a href="/pages/f1l2i3n4k5/" class="nav-link">ã€Šflinkã€‹</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/TechnologyStack/" class="nav-link">æŠ€æœ¯æ ˆğŸˆ</a></div><div class="nav-item"><a href="/python/" class="nav-link">python</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â›³ğŸ–¥" class="dropdown-title"><a href="/technology/" class="link-title">â›³ğŸ–¥</a> <span class="title" style="display:none;">â›³ğŸ–¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b08e81/" class="nav-link">è®¡ç®—æœºå¿…å¤‡</a></li><li class="dropdown-item"><!----> <a href="/pages/fba33e/" class="nav-link">æ•°å­¦åŸºç¡€</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="more" class="dropdown-title"><a href="/more/" class="link-title">more</a> <span class="title" style="display:none;">more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">å­¦ä¹ </a></li><li class="dropdown-item"><!----> <a href="/pages/vscode123/" class="nav-link">æŠ€å·§</a></li><li class="dropdown-item"><!----> <a href="/pages/4c76s2s6d8b3/" class="nav-link">æŠ€æœ¯æ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHubæŠ€å·§</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">æœ¬ç«™å…³è”</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/axcmsm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/zzx.jpg"> <div class="blogger-info"><h3>AxcmsmğŸ¼</h3> <span>çºµæœ‰ç–¾é£èµ·ï¼Œäººç”Ÿä¸è¨€å¼ƒğŸ…</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Bigæ•°æ®" class="dropdown-title"><a href="/BigData/" class="link-title">Bigæ•°æ®</a> <span class="title" style="display:none;">Bigæ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å¤§æ•°æ®è·¯çº¿</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2asd1/" class="nav-link">å¼€å‘è·¯çº¿</a></li><li class="dropdown-subitem"><a href="/pages/5cda13/" class="nav-link">linuxå¯¼å›¾</a></li></ul></li><li class="dropdown-item"><h4>å­¦ä¹ ç¬”è®°</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/l2sdd2ad123/" class="nav-link">ã€ŠLinuxã€‹</a></li><li class="dropdown-subitem"><a href="/pages/hdf2shad2o4p3/" class="nav-link">ã€ŠHadoopã€‹</a></li><li class="dropdown-subitem"><a href="/pages/f2l2im24e/" class="nav-link">ã€Šç”Ÿæ€åœˆç»„ä»¶ã€‹</a></li><li class="dropdown-subitem"><a href="/pages/ka1f3k4a/" class="nav-link">ã€Šæ¶ˆæ¯é˜Ÿåˆ—ã€‹</a></li><li class="dropdown-subitem"><a href="/pages/spa123ra12sd2/" class="nav-link">ã€Šsparkã€‹</a></li><li class="dropdown-subitem"><a href="/pages/f1l2i3n4k5/" class="nav-link">ã€Šflinkã€‹</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/TechnologyStack/" class="nav-link">æŠ€æœ¯æ ˆğŸˆ</a></div><div class="nav-item"><a href="/python/" class="nav-link">python</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â›³ğŸ–¥" class="dropdown-title"><a href="/technology/" class="link-title">â›³ğŸ–¥</a> <span class="title" style="display:none;">â›³ğŸ–¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b08e81/" class="nav-link">è®¡ç®—æœºå¿…å¤‡</a></li><li class="dropdown-item"><!----> <a href="/pages/fba33e/" class="nav-link">æ•°å­¦åŸºç¡€</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="more" class="dropdown-title"><a href="/more/" class="link-title">more</a> <span class="title" style="display:none;">more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">å­¦ä¹ </a></li><li class="dropdown-item"><!----> <a href="/pages/vscode123/" class="nav-link">æŠ€å·§</a></li><li class="dropdown-item"><!----> <a href="/pages/4c76s2s6d8b3/" class="nav-link">æŠ€æœ¯æ–‡æ¡£</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHubæŠ€å·§</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">æœ¬ç«™å…³è”</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/axcmsm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è·¯çº¿orå¯¼å›¾</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å­¦ä¹ ç¬”è®°</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šlinuxã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>ã€ŠHadoopã€‹</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/hasy2d21do11dop/" class="sidebar-link">Hadoopæ¦‚è¿°</a></li><li><a href="/pages/hdf2shad2o4p3/" class="sidebar-link">Hdfsåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ</a></li><li><a href="/pages/1b8ea6/" class="sidebar-link">MapReduce</a></li><li><a href="/pages/a611d4/" class="sidebar-link">yarn</a></li><li><a href="/pages/ad2s1a123s2fa/" aria-current="page" class="active sidebar-link">Hadoopç”Ÿäº§è°ƒä¼˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-æ ¸å¿ƒå‚æ•°" class="sidebar-link">HDFS æ ¸å¿ƒå‚æ•°</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-é›†ç¾¤å‹æµ‹" class="sidebar-link">HDFS é›†ç¾¤å‹æµ‹</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-å¤šç›®å½•" class="sidebar-link">HDFS å¤šç›®å½•</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-é›†ç¾¤æ‰©å®¹åŠç¼©å®¹" class="sidebar-link">HDFS é›†ç¾¤æ‰©å®¹åŠç¼©å®¹</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-å­˜å‚¨ä¼˜åŒ–" class="sidebar-link">HDFS å­˜å‚¨ä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-æ•…éšœæ’é™¤" class="sidebar-link">HDFS æ•…éšœæ’é™¤</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hdfs-é›†ç¾¤è¿ç§»" class="sidebar-link">HDFS é›†ç¾¤è¿ç§»</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#mapreduce-ç”Ÿäº§ç»éªŒ" class="sidebar-link">MapReduce ç”Ÿäº§ç»éªŒ</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#yarn-ç”Ÿäº§ç»éªŒ" class="sidebar-link">Yarn ç”Ÿäº§ç»éªŒ</a></li><li class="sidebar-sub-header"><a href="/pages/ad2s1a123s2fa/#hadoop-ç»¼åˆè°ƒä¼˜" class="sidebar-link">Hadoop ç»¼åˆè°ƒä¼˜</a></li></ul></li><li><a href="/pages/f225ff/" class="sidebar-link">hadoopæºç è§£æ</a></li><li><a href="/pages/e7984e/" class="sidebar-link">æ€»ç»“hadoop</a></li><li><a href="/pages/9067f7/" class="sidebar-link">HAé«˜å¯ç”¨</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šzookeeperã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šhiveã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šç”Ÿæ€åœˆç»„ä»¶ã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šæ¶ˆæ¯é˜Ÿåˆ—ã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šsparkã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šflinkã€‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ã€Šæ•°æ®å¯è§†åŒ–ã€‹</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é¡¹ç›®</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®‰è£…</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/BigData" title="å¤§æ•°æ®-ç›®å½•é¡µ" data-v-1cd794fe>å¤§æ•°æ®</a></li> <li data-v-1cd794fe><a href="/BigData/#å­¦ä¹ ç¬”è®°" title="å¤§æ•°æ®#å­¦ä¹ ç¬”è®°" data-v-1cd794fe>å­¦ä¹ ç¬”è®°</a></li> <li data-v-1cd794fe><a href="/BigData/#ã€ŠHadoopã€‹" title="å¤§æ•°æ®#ã€ŠHadoopã€‹" data-v-1cd794fe>ã€ŠHadoopã€‹</a></li></ul> <div class="info" data-v-1cd794fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/axcmsm" target="_blank" title="ä½œè€…" class="beLink" data-v-1cd794fe>Wei Ye</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2021-09-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="/img/bj1.jpg">
          Hadoopç”Ÿäº§è°ƒä¼˜
        </h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="hdfs-æ ¸å¿ƒå‚æ•°"><a href="#hdfs-æ ¸å¿ƒå‚æ•°" class="header-anchor">#</a> HDFS æ ¸å¿ƒå‚æ•°</h2> <p><strong>NameNode å†…å­˜ç”Ÿäº§é…ç½®</strong></p> <p>hadoop2.0:å¯åœ¨ hadoop-env.sh æ–‡ä»¶ä¸­é…ç½®,å¦‚æœæœåŠ¡å™¨å†…å­˜æ˜¯ 4g å¯é…ç½® 3g.</p> <p>hadoop3.0:æ˜¯åŠ¨æ€åˆ†é…çš„å¯ç”¨ <code>jmap -heap è¿›ç¨‹å·</code>æŸ¥çœ‹ NN,DN å†…å­˜,å…¶åˆ†é…ä¸æ˜¯å¾ˆåˆç†.</p> <blockquote><p>ç»éªŒå‚è€ƒ:&lt;<a href="https://docs.cloudera.com/documentation/enterprise/6/release-notes/topics/rg_hardware_requirements.html#concept_fzz_dq4_gbb" target="_blank" rel="noopener noreferrer">Hardware Requirements | 6.x | Cloudera Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>&gt;</p> <p>namenode æœ€å°å€¼ 1G,æ¯å¢åŠ  1000000 ä¸ª block,å¢åŠ  1G å†…å­˜</p> <p>datanode æœ€å°å€¼ 4G,block æ•°,æˆ–æ˜¯å‰¯æœ¬æ•°å‡é«˜,éƒ½åº”è¯¥è°ƒå¤§ datanode å€¼,ä¸€ä¸ª datanode ä¸Šçš„å‰¯æœ¬æ€»æ•°ä½äº 4000000 æ¯å¢åŠ  1000000 å¢åŠ  1G.</p></blockquote> <p>å…·ä½“ä¿®æ”¹:hadoop-env.sh</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>export HDFS_NAMENODE_OPTS=&quot;-Dhadoop.security.logger=INFO,RFAS -
Xmx1024m&quot;
export HDFS_DATANODE_OPTS=&quot;-Dhadoop.security.logger=ERROR,RFAS
-Xmx1024m&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>NN å¿ƒè·³å¹¶å‘é…ç½®</strong></p> <p>ä¼ä¸šç»éªŒï¼šdfs.namenode.handler.count=20 Ã— ğ‘™ğ‘œğ‘”ğ‘’ ğ¶ğ‘™ğ‘¢ğ‘ ğ‘¡ğ‘’ğ‘Ÿ ğ‘†ğ‘–ğ‘§ğ‘’ï¼Œæ¯”å¦‚é›†ç¾¤è§„æ¨¡ï¼ˆDataNode å° æ•°ï¼‰ä¸º 3 å°æ—¶ï¼Œæ­¤å‚æ•°è®¾ç½®ä¸º 21ã€‚å¯é€šè¿‡ç®€å•çš„ python ä»£ç è®¡ç®—è¯¥å€¼ï¼Œä»£ç å¦‚ä¸‹:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[axcmsm@hadoop102 ~]$ sudo yum install -y python
[axcmsm@hadoop102 ~]$ python
Python 2.7.5 (default, Apr 11 2018, 07:36:10)
[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more
information.
&gt;&gt;&gt; import math
&gt;&gt;&gt; print int(20*math.log(3))
21
&gt;&gt;&gt; quit()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>hdfs-site.xml</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>NameNode æœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ± ï¼Œç”¨æ¥å¤„ç†ä¸åŒ DataNode çš„å¹¶å‘å¿ƒè·³ä»¥åŠå®¢æˆ·ç«¯å¹¶å‘çš„å…ƒæ•°æ®æ“ä½œã€‚å¯¹äºå¤§é›†ç¾¤æˆ–è€…æœ‰å¤§é‡å®¢æˆ·ç«¯çš„é›†ç¾¤æ¥è¯´ï¼Œé€šå¸¸éœ€è¦å¢å¤§è¯¥å‚æ•°ã€‚é»˜è®¤å€¼æ˜¯ 10ã€‚
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.handler.count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>21<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>å¼€å¯å›æ”¶ç«™é…ç½®</strong>:</p> <p>å‚æ•°è¯´æ˜:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ï¼ˆ1ï¼‰é»˜è®¤å€¼ fs.trash.interval = 0ï¼Œ0 è¡¨ç¤ºç¦ç”¨å›æ”¶ç«™ï¼›å…¶ä»–å€¼è¡¨ç¤ºè®¾ç½®æ–‡ä»¶çš„å­˜æ´»æ—¶é—´ã€‚
ï¼ˆ2ï¼‰é»˜è®¤å€¼ fs.trash.checkpoint.interval = 0ï¼Œæ£€æŸ¥å›æ”¶ç«™çš„é—´éš”æ—¶é—´ã€‚å¦‚æœè¯¥å€¼ä¸º 0ï¼Œåˆ™è¯¥å€¼è®¾ç½®å’Œ fs.trash.interval çš„å‚æ•°å€¼ç›¸ç­‰ã€‚
ï¼ˆ3ï¼‰è¦æ±‚ fs.trash.checkpoint.interval &lt;= fs.trash.intervalã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>core-site.xml</code>é…ç½®ä¸º 1 åˆ†é’Ÿ</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.trash.interval<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
 <span class="token comment">&lt;!--ä¸º0è¡¨ç¤ºä¸å¼€å¯ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æŸ¥çœ‹å›æ”¶ç«™:<code>/user/axcmsm/.Trash/â€¦</code></p> <div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>é€šè¿‡ç½‘é¡µä¸Šç›´æ¥åˆ é™¤çš„æ–‡ä»¶ä¹Ÿä¸ä¼šèµ°å›æ”¶ç«™ã€‚</p> <p>é€šè¿‡ç¨‹åºåˆ é™¤çš„ä¹Ÿä¸ç»è¿‡å›æ”¶ç«™,éœ€è¦è°ƒç”¨ moveToTrash()æ‰è¿›å…¥å›æ”¶ç«™</p> <p>å‘½ä»¤è¡Œå°±å¯è¿›å›æ”¶ç«™</p></div> <p>æ¢å¤å›æ”¶ç«™æ•°æ®:ç§»å‡ºæ¥å³å¯</p> <h2 id="hdfs-é›†ç¾¤å‹æµ‹"><a href="#hdfs-é›†ç¾¤å‹æµ‹" class="header-anchor">#</a> HDFS é›†ç¾¤å‹æµ‹</h2> <p>HDFS çš„è¯»å†™æ€§èƒ½ä¸»è¦å—ç½‘ç»œå’Œç£ç›˜å½±å“æ¯”è¾ƒå¤§.å¯å°†è™šæ‹Ÿæœºç½‘ç»œéƒ½è®¾ç½®ä¸º 100mbpsã€‚</p> <p><strong>æµ‹è¯•ç½‘é€Ÿ</strong>:æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å¯¹å¤–æš´éœ²æ¥å£è¿›è¡Œä¸‹è½½æµ‹è¯•</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>python -m SimpleHTTPServer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>æµ‹è¯• HDFS å†™æ€§èƒ½</strong></p> <p>æµ‹è¯•å†…å®¹ï¼šå‘ HDFS é›†ç¾¤å†™ 10 ä¸ª 128M çš„æ–‡ä»¶</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hadoop jar /opt/module/hadoop3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-clientjobclient-3.1.3-tests.jar TestDFSIO -write -nrFiles <span class="token number">10</span> -
fileSize 128MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code> Number of filesï¼šç”Ÿæˆ mapTask æ•°é‡ï¼Œä¸€èˆ¬æ˜¯é›†ç¾¤ä¸­ï¼ˆCPU æ ¸æ•°-1ï¼‰ï¼Œæˆ‘ä»¬æµ‹è¯•è™šæ‹Ÿæœºå°±æŒ‰ç…§å®é™…çš„ç‰©ç†å†…å­˜-1 åˆ†é…å³å¯
Total MBytes processedï¼šå•ä¸ª map å¤„ç†çš„æ–‡ä»¶å¤§å°
Throughput mb/sec:å•ä¸ª mapTak çš„ååé‡è®¡ç®—æ–¹å¼ï¼šå¤„ç†çš„æ€»æ–‡ä»¶å¤§å°/æ¯ä¸€ä¸ª mapTask å†™æ•°æ®çš„æ—¶é—´ç´¯åŠ é›†ç¾¤æ•´ä½“ååé‡ï¼šç”Ÿæˆ mapTask æ•°é‡*å•ä¸ª mapTak çš„ååé‡
Average IO rate mb/sec::å¹³å‡ mapTak çš„ååé‡
è®¡ç®—æ–¹å¼ï¼šæ¯ä¸ª mapTask å¤„ç†æ–‡ä»¶å¤§å°/æ¯ä¸€ä¸ª mapTask å†™æ•°æ®çš„æ—¶é—´å…¨éƒ¨ç›¸åŠ é™¤ä»¥ task æ•°é‡
IO rate std deviation:æ–¹å·®ã€åæ˜ å„ä¸ª mapTask å¤„ç†çš„å·®å€¼ï¼Œè¶Šå°è¶Šå‡è¡¡
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>å¦‚æœå®æµ‹é€Ÿåº¦è¿œè¿œå°äºç½‘ç»œï¼Œå¹¶ä¸”å®æµ‹é€Ÿåº¦ä¸èƒ½æ»¡è¶³å·¥ä½œéœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘é‡‡ç”¨å›ºæ€ç¡¬ç›˜ æˆ–è€…å¢åŠ ç£ç›˜ä¸ªæ•°ã€‚</p></blockquote> <p><strong>æµ‹è¯• HDFS è¯»æ€§èƒ½</strong></p> <p>æµ‹è¯•å†…å®¹ï¼šè¯»å– HDFS é›†ç¾¤ 10 ä¸ª 128M çš„æ–‡ä»¶</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-clientjobclient-3.1.3-tests.jar TestDFSIO -read -nrFiles <span class="token number">10</span> -fileSize 128MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åˆ é™¤æµ‹è¯•ç”Ÿæˆæ•°æ®</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/jobclient-3.1.3-tests.jar TestDFSIO -clean
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="hdfs-å¤šç›®å½•"><a href="#hdfs-å¤šç›®å½•" class="header-anchor">#</a> HDFS å¤šç›®å½•</h2> <p><strong>NN</strong></p> <p>NameNode çš„æœ¬åœ°ç›®å½•å¯ä»¥é…ç½®æˆå¤šä¸ªï¼Œä¸”æ¯ä¸ªç›®å½•å­˜æ”¾å†…å®¹ç›¸åŒï¼Œå¢åŠ äº†å¯é æ€§</p> <p><strong>å…·ä½“é…ç½®</strong>:</p> <p>åœ¨ <code>hdfs-site.xml</code> æ–‡ä»¶ä¸­æ·»åŠ </p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.name.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>file://${hadoop.tmp.dir}/dfs/name1,file://${hadoop.tmp.dir}/dfs/name2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>å› ä¸ºæ¯å°æœåŠ¡å™¨èŠ‚ç‚¹çš„ç£ç›˜æƒ…å†µä¸åŒï¼Œæ‰€ä»¥è¿™ä¸ªé…ç½®é…å®Œä¹‹åï¼Œå¯ä»¥é€‰æ‹©ä¸åˆ†å‘</p></div> <p>åœæ­¢é›†ç¾¤ï¼Œåˆ é™¤ä¸‰å°èŠ‚ç‚¹çš„ data å’Œ logs ä¸­æ‰€æœ‰æ•°æ®ã€‚</p> <p>æ ¼å¼åŒ–é›†ç¾¤å¹¶å¯åŠ¨ã€‚</p> <p>æŸ¥çœ‹ç»“æœ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>æ€»ç”¨é‡ 12drwx------. 3 axcmsm axcmsm 4096 12 æœˆ 11 08:03 datadrwxrwxr-x. 3 axcmsm axcmsm 4096 12 æœˆ 11 08:03 name1drwxrwxr-x. 3 axcmsm axcmsm 4096 12 æœˆ 11 08:03 name2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>DN</strong></p> <p>DataNode å¯ä»¥é…ç½®æˆå¤šä¸ªç›®å½•ï¼Œæ¯ä¸ªç›®å½•å­˜å‚¨çš„æ•°æ®ä¸ä¸€æ ·ï¼ˆæ•°æ®ä¸æ˜¯å‰¯æœ¬ï¼‰</p> <p><strong>å…·ä½“é…ç½®</strong>:</p> <p>åœ¨ <code>hdfs-site.xml</code> æ–‡ä»¶ä¸­æ·»åŠ </p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.datanode.data.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>file://${hadoop.tmp.dir}/dfs/data1,file://${hadoop.tmp.dir}/dfs/data2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æŸ¥çœ‹ç»“æœ:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>drwx------. 3 axcmsm axcmsm 4096 4 æœˆ 4 14:22 data1drwx------. 3 axcmsm axcmsm 4096 4 æœˆ 4 14:22 data2drwxrwxr-x. 3 axcmsm axcmsm 4096 12 æœˆ 11 08:03 name1drwxrwxr-x. 3 axcmsm axcmsm 4096 12 æœˆ 11 08:03 name2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>é›†ç¾¤æ•°æ®å‡è¡¡ä¹‹ç£ç›˜é—´æ•°æ®å‡è¡¡</strong></p> <p>æ·»åŠ ç£ç›˜æ—¶å¯æ‰§è¡Œç£ç›˜æ•°æ®å‡è¡¡å‘½ä»¤ã€‚ï¼ˆHadoop3.x æ–°ç‰¹æ€§ï¼‰</p> <p>æ­¥éª¤:</p> <ul><li>ç”Ÿæˆå‡è¡¡è®¡åˆ’ <code>hdfs diskbalancer -plan hadoop103</code></li> <li>æ‰§è¡Œå‡è¡¡è®¡åˆ’ <code>hdfs diskbalancer -execute hadoop103.plan.json</code></li> <li>æŸ¥çœ‹å½“å‰å‡è¡¡ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µ <code>hdfs diskbalancer -query hadoop103</code></li> <li>å–æ¶ˆå‡è¡¡ä»»åŠ¡ <code>hdfs diskbalancer -cancel hadoop103.plan.json</code></li></ul> <h2 id="hdfs-é›†ç¾¤æ‰©å®¹åŠç¼©å®¹"><a href="#hdfs-é›†ç¾¤æ‰©å®¹åŠç¼©å®¹" class="header-anchor">#</a> HDFS é›†ç¾¤æ‰©å®¹åŠç¼©å®¹</h2> <p><strong>æ·»åŠ ç™½åå•/é»‘åå•</strong>:è¡¨ç¤ºåœ¨ç™½åå•çš„ä¸»æœº IP åœ°å€å¯ä»¥ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®ã€‚</p> <p>æ­¥éª¤:</p> <ul><li><p>åœ¨ NameNode èŠ‚ç‚¹çš„/opt/module/hadoop-3.1.3/etc/hadoop ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º whitelist å’Œ blacklist (é»‘åå•)æ–‡ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim whitelist# æ·»åŠ ç™½åå•hadoop102hadoop103
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>åœ¨ hdfs-site.xml é…ç½®æ–‡ä»¶ä¸­å¢åŠ  dfs.hosts é…ç½®å‚æ•°</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- ç™½åå• --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.hosts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/opt/module/hadoop-3.1.3/etc/hadoop/whitelist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- é»‘åå• --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.hosts.exclude<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/opt/module/hadoop-3.1.3/etc/hadoop/blacklist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>åˆ†å‘é…ç½®æ–‡ä»¶ whitelistï¼Œhdfs-site.xml</p></li> <li><p>ç¬¬ä¸€æ¬¡æ·»åŠ ç™½åå•å¿…é¡»é‡å¯é›†ç¾¤ï¼Œä¸æ˜¯ç¬¬ä¸€æ¬¡ï¼Œåªéœ€è¦åˆ·æ–° NameNode èŠ‚ç‚¹å³å¯</p></li></ul> <p><strong>æœå½¹æ–°æœåŠ¡å™¨</strong></p> <p>(æ·»åŠ è™šæ‹Ÿæœºæ­å»ºhadoopç¯å¢ƒ)</p> <p><strong>æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®å‡è¡¡</strong></p> <p>å¼€å¯æ•°æ®å‡è¡¡å‘½ä»¤:<code>sbin/start-balancer.sh - threshold 10</code></p> <blockquote><p>å¯¹äºå‚æ•° 10ï¼Œä»£è¡¨çš„æ˜¯é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„ç£ç›˜ç©ºé—´åˆ©ç”¨ç‡ç›¸å·®ä¸è¶…è¿‡ 10%ï¼Œå¯æ ¹æ®å® é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚</p></blockquote> <p>åœæ­¢æ•°æ®å‡è¡¡å‘½ä»¤:<code>sbin/stop-balancer.sh</code></p> <h2 id="hdfs-å­˜å‚¨ä¼˜åŒ–"><a href="#hdfs-å­˜å‚¨ä¼˜åŒ–" class="header-anchor">#</a> HDFS å­˜å‚¨ä¼˜åŒ–</h2> <h4 id="çº åˆ ç "><a href="#çº åˆ ç " class="header-anchor">#</a> <strong>çº åˆ ç </strong></h4> <blockquote><p>HDFS é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ–‡ä»¶æœ‰ 3 ä¸ªå‰¯æœ¬ï¼Œè¿™æ ·æé«˜äº†æ•°æ®çš„å¯é æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥äº† 2 å€ çš„å†—ä½™å¼€é”€ã€‚Hadoop3.x å¼•å…¥äº†çº åˆ ç ï¼Œé‡‡ç”¨è®¡ç®—çš„æ–¹å¼ï¼Œå¯ä»¥èŠ‚çœçº¦ 50ï¼…å·¦å³çš„å­˜å‚¨ç©ºé—´ã€‚</p></blockquote> <p><strong>çº åˆ ç æ“ä½œç›¸å…³çš„å‘½ä»¤</strong>: <code>hdfs -ec</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[axcmsm@hadoop102 hadoop-3.1.3]$ hdfs ec
Usage: bin/hdfs ec [COMMAND] 
[-listPolicies] 
[-addPolicies -policyFile &lt;file&gt;]
[-getPolicy -path &lt;path&gt;] 
[-removePolicy -policy &lt;policy&gt;] 
[-setPolicy -path &lt;path&gt; 
[-policy &lt;policy&gt;] [-replicate]]
[-unsetPolicy -path &lt;path&gt;] 
[-listCodecs]
[-enablePolicy -policy &lt;policy&gt;] 
[-disablePolicy -policy &lt;policy&gt;]
[-help &lt;command-name&gt;].
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>æŸ¥çœ‹å½“å‰æ”¯æŒçš„çº åˆ ç ç­–ç•¥</strong>:<code>hdfs ec -listPolicies</code></p> <p><strong>è§£é‡Š</strong>:</p> <ul><li>RS-3-2-1024k(5 ä¸ªåªè¦æœ‰ä»»æ„çš„ 3 ä¸ªå•å…ƒå­˜åœ¨å°±å¯æ¢å¤)</li> <li>RS-10-4-1024k (14 ä¸ªå•å…ƒä¸­ï¼Œåªè¦æœ‰ä»»æ„çš„ 10 ä¸ªå•å…ƒå­˜åœ¨)</li> <li>RS-6-3-1024k (9 ä¸ªåˆ 6 ä¸ªåœ¨å°±å¯æ¢å¤)</li> <li>RS-LEGACY-6-3-1024k (è·Ÿä¸Šé¢ä¸€æ ·)</li> <li>XOR-2-1-1024k(3 ä¸ªä¿©ä¸ªåœ¨å°±å¯æ¢å¤)</li></ul> <p>æ¡ˆä¾‹:å°†/input ç›®å½•è®¾ç½®ä¸º RS-3-2-1024k ç­–ç•¥</p> <details class="custom-block details"><summary>ğŸ’¦ğŸ’¦</summary> <p>ï¼ˆ1ï¼‰å¼€å¯å¯¹ RS-3-2-1024k ç­–ç•¥çš„æ”¯æŒ</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hdfs ec -enablePolicy -policy RS-3-2-1024k
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ï¼ˆ2ï¼‰åœ¨ HDFS åˆ›å»ºç›®å½•ï¼Œå¹¶è®¾ç½® RS-3-2-1024k ç­–ç•¥</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hdfs dfs -mkdir /inputhdfs ec -setPolicy -path /input -policy RS-3-2-1024k
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ï¼ˆ3ï¼‰ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹æ–‡ä»¶ç¼–ç åçš„å­˜å‚¨æƒ…å†µ</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hdfs dfs -put web.log /input
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>ä½ æ‰€ä¸Šä¼ çš„æ–‡ä»¶éœ€è¦å¤§äº 2M æ‰èƒ½çœ‹å‡ºæ•ˆæœï¼ˆä½äº 2Mï¼Œåªæœ‰ä¸€ä¸ªæ•°æ®å•å…ƒå’Œä¸¤ ä¸ªæ ¡éªŒå•å…ƒï¼‰</p></div></details> <h4 id="å¼‚æ„å­˜å‚¨-å†·çƒ­æ•°æ®åˆ†ç¦»"><a href="#å¼‚æ„å­˜å‚¨-å†·çƒ­æ•°æ®åˆ†ç¦»" class="header-anchor">#</a> <strong>å¼‚æ„å­˜å‚¨ï¼ˆå†·çƒ­æ•°æ®åˆ†ç¦»ï¼‰</strong></h4> <p>å¼‚æ„å­˜å‚¨ä¸»è¦è§£å†³ï¼Œä¸åŒçš„æ•°æ®ï¼Œå­˜å‚¨åœ¨ä¸åŒç±»å‹çš„ç¡¬ç›˜ä¸­ï¼Œè¾¾åˆ°æœ€ä½³æ€§èƒ½.</p> <p>å­˜å‚¨ç±»å‹:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>RAM_DISKï¼šï¼ˆå†…å­˜é•œåƒæ–‡ä»¶ç³»ç»Ÿï¼‰SSDï¼šï¼ˆSSDå›ºæ€ç¡¬ç›˜ï¼‰DISKï¼šï¼ˆæ™®é€šç£ç›˜ï¼Œåœ¨HDFSä¸­ï¼Œå¦‚æœæ²¡æœ‰ä¸»åŠ¨å£°æ˜æ•°æ®ç›®å½•å­˜å‚¨ç±»å‹é»˜è®¤éƒ½æ˜¯DISKï¼‰ARCHIVEï¼šï¼ˆæ²¡æœ‰ç‰¹æŒ‡å“ªç§å­˜å‚¨ä»‹è´¨ï¼Œä¸»è¦çš„æŒ‡çš„æ˜¯è®¡ç®—èƒ½åŠ›æ¯”è¾ƒå¼±è€Œå­˜å‚¨å¯†åº¦æ¯”è¾ƒé«˜çš„å­˜å‚¨ä»‹è´¨ï¼Œç”¨æ¥è§£å†³æ•°æ®é‡çš„å®¹é‡æ‰©å¢çš„é—®é¢˜ï¼Œä¸€èˆ¬ç”¨äºå½’æ¡£ï¼‰
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å…³äºå­˜å‚¨ç­–ç•¥:ä» Lazy_Persist åˆ° Coldï¼Œåˆ†åˆ«ä»£è¡¨äº†è®¾å¤‡çš„è®¿é—®é€Ÿåº¦ä»å¿«åˆ°æ…¢</p> <table><thead><tr><th>ç­–ç•¥ ID</th> <th>ç­–ç•¥åç§°</th> <th>å‰¯æœ¬åˆ†å¸ƒ</th> <th>è§£é‡Š</th></tr></thead> <tbody><tr><td>15</td> <td>Lazy_Persist</td> <td>RAM_DISK:1ï¼ŒDISK:n-1</td> <td>ä¸€ä¸ªå‰¯æœ¬ä¿å­˜åœ¨å†…å­˜ RAM_DISK ä¸­å…¶ä½™å‰¯æœ¬ä¿å­˜åœ¨ç£ç›˜ä¸­ã€‚</td></tr> <tr><td>12</td> <td>All_SSD</td> <td>SSD:n</td> <td>æ‰€æœ‰å‰¯æœ¬éƒ½ä¿å­˜åœ¨ SSD ä¸­ã€‚</td></tr> <tr><td>10</td> <td>One_SSD</td> <td>SSD:1ï¼ŒDISK:n-1</td> <td>ä¸€ä¸ªå‰¯æœ¬ä¿å­˜åœ¨ SSD ä¸­ï¼Œå…¶ä½™å‰¯æœ¬ä¿å­˜åœ¨ç£ç›˜ä¸­ã€‚</td></tr> <tr><td>7</td> <td>Hot(default)</td> <td>DISK:n</td> <td>Hotï¼šæ‰€æœ‰å‰¯æœ¬ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„å­˜å‚¨ç­–ç•¥</td></tr> <tr><td>5</td> <td>Warm</td> <td>DSIK:1ï¼ŒARCHIVE:n-1</td> <td>ä¸€ä¸ªå‰¯æœ¬ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œå…¶ä½™å‰¯æœ¬ä¿å­˜åœ¨å½’æ¡£å­˜å‚¨ä¸Šã€‚</td></tr> <tr><td>2</td> <td>Cold</td> <td>ARCHIVE:n</td> <td>æ‰€æœ‰å‰¯æœ¬éƒ½ä¿å­˜åœ¨å½’æ¡£å­˜å‚¨ä¸Šã€‚</td></tr></tbody></table> <p><strong>å¼‚æ„å­˜å‚¨ Shell æ“ä½œ</strong></p> <ul><li><p>æŸ¥çœ‹å½“å‰æœ‰å“ªäº›å­˜å‚¨ç­–ç•¥å¯ä»¥ç”¨<code>hdfs storagepolicies -listPolicies</code></p></li> <li><p>ä¸ºæŒ‡å®šè·¯å¾„ï¼ˆç›®å½•ï¼‰è®¾ç½®æŒ‡å®šçš„å­˜å‚¨ç­–ç•¥</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hdfs storagepolicies -setStoragePolicy -path xxx -policy xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>è·å–æŒ‡å®šè·¯å¾„ï¼ˆæ•°æ®å­˜å‚¨ç›®å½•æˆ–æ–‡ä»¶ï¼‰çš„å­˜å‚¨ç­–ç•¥</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hdfs storagepolicies -getStoragePolicy -path xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>å–æ¶ˆå­˜å‚¨ç­–ç•¥ï¼›æ‰§è¡Œæ”¹å‘½ä»¤ä¹‹åè¯¥ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œä»¥å…¶ä¸Šçº§çš„ç›®å½•ä¸ºå‡†ï¼Œå¦‚æœæ˜¯æ ¹ç›®å½•ï¼Œå°±æ˜¯ HOT</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hdfs storagepolicies -unsetStoragePolicy -path xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>æŸ¥çœ‹æ–‡ä»¶å—çš„åˆ†å¸ƒ</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bin/hdfs <span class="token function">fsck</span> xxx -files -blocks -locations
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hadoop dfsadmin -report
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="hdfs-æ•…éšœæ’é™¤"><a href="#hdfs-æ•…éšœæ’é™¤" class="header-anchor">#</a> HDFS æ•…éšœæ’é™¤</h2> <p>NameNode è¿›ç¨‹æŒ‚äº†å¹¶ä¸”å­˜å‚¨çš„æ•°æ®ä¹Ÿä¸¢å¤±äº†ï¼Œå¦‚ä½•æ¢å¤ NameNode</p> <p><strong>æ•…éšœæ¨¡æ‹Ÿ</strong></p> <ul><li>kill -9 NameNode è¿›ç¨‹</li> <li>åˆ é™¤ NameNode å­˜å‚¨çš„æ•°æ®ï¼ˆ/opt/module/hadoop-3.1.3/data/tmp/dfs/nameï¼‰</li></ul> <p><strong>é—®é¢˜è§£å†³</strong></p> <ul><li><p>æ‹·è´ SecondaryNameNode ä¸­æ•°æ®åˆ°åŸ NameNode å­˜å‚¨æ•°æ®ç›®å½•</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>scp -r atguigu@hadoop104:/opt/module/hadoop3.1.3/data/dfs/namesecondary/* ./name/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>é‡æ–°å¯åŠ¨ NameNode <code>hdfs --daemon start namenode</code></p></li> <li><p>å‘é›†ç¾¤ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶</p></li></ul> <h4 id="é›†ç¾¤å®‰å…¨æ¨¡å¼-ç£ç›˜ä¿®å¤"><a href="#é›†ç¾¤å®‰å…¨æ¨¡å¼-ç£ç›˜ä¿®å¤" class="header-anchor">#</a> é›†ç¾¤å®‰å…¨æ¨¡å¼&amp;ç£ç›˜ä¿®å¤</h4> <p>å®‰å…¨æ¨¡å¼ï¼šæ–‡ä»¶ç³»ç»Ÿåªæ¥å—è¯»æ•°æ®è¯·æ±‚ï¼Œè€Œä¸æ¥å—åˆ é™¤ã€ä¿®æ”¹ç­‰å˜æ›´è¯·æ±‚</p> <ul><li>NameNode åœ¨åŠ è½½é•œåƒæ–‡ä»¶å’Œç¼–è¾‘æ—¥å¿—æœŸé—´å¤„äºå®‰å…¨æ¨¡å¼ï¼›</li> <li>NameNode å†æ¥æ”¶ DataNode æ³¨å†Œæ—¶ï¼Œå¤„äºå®‰å…¨æ¨¡å¼</li></ul> <p>é€€å‡ºå®‰å…¨æ¨¡å¼æ¡ä»¶:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dfs.namenode.safemode.min.datanodes:æœ€å°å¯ç”¨ 
datanode æ•°é‡ï¼Œé»˜è®¤ 0
dfs.namenode.safemode.threshold-pct:å‰¯æœ¬æ•°è¾¾åˆ°æœ€å°è¦æ±‚çš„ block å ç³»ç»Ÿæ€» block æ•°çš„ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ 0.999fã€‚ï¼ˆåªå…è®¸ä¸¢ä¸€ä¸ªå—ï¼‰
dfs.namenode.safemode.extension:ç¨³å®šæ—¶é—´ï¼Œé»˜è®¤å€¼ 30000 æ¯«ç§’ï¼Œå³ 30 ç§’
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>åŸºæœ¬è¯­æ³•:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ï¼ˆ1ï¼‰bin/hdfs dfsadmin -safemode get ï¼ˆåŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹å®‰å…¨æ¨¡å¼çŠ¶æ€ï¼‰
ï¼ˆ2ï¼‰bin/hdfs dfsadmin -safemode enter ï¼ˆåŠŸèƒ½æè¿°ï¼šè¿›å…¥å®‰å…¨æ¨¡å¼çŠ¶æ€ï¼‰
ï¼ˆ3ï¼‰bin/hdfs dfsadmin -safemode leaveï¼ˆåŠŸèƒ½æè¿°ï¼šç¦»å¼€å®‰å…¨æ¨¡å¼çŠ¶æ€ï¼‰
ï¼ˆ4ï¼‰bin/hdfs dfsadmin -safemode wait ï¼ˆåŠŸèƒ½æè¿°ï¼šç­‰å¾…å®‰å…¨æ¨¡å¼çŠ¶æ€ï¼‰
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>æ…¢ç£ç›˜</strong>: æŒ‡çš„æ—¶å†™å…¥æ•°æ®éå¸¸æ…¢çš„ä¸€ç±»ç£ç›˜</p> <ul><li><p>é€šè¿‡å¿ƒè·³æœªè”ç³»æ—¶é—´</p></li> <li><p>fio å‘½ä»¤ï¼Œæµ‹è¯•ç£ç›˜çš„è¯»å†™æ€§èƒ½</p></li> <li><p>è¿›è¡Œæ‰¾å‡º</p> <p><strong>å°æ–‡ä»¶å½’æ¡£æ­¥éª¤:</strong></p></li></ul> <ol><li><p>å¯åŠ¨ yarn è¿›ç¨‹</p></li> <li><p>å½’æ¡£æ–‡ä»¶</p> <blockquote><p>æŠŠ/input ç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶å½’æ¡£æˆä¸€ä¸ªå« input.har çš„å½’æ¡£æ–‡ä»¶ï¼Œå¹¶æŠŠå½’æ¡£åæ–‡ä»¶å­˜å‚¨ åˆ°/output è·¯å¾„ä¸‹ã€‚</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hadoop archive -archiveName input.har -p /input /output
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>æŸ¥çœ‹å½’æ¡£</p></li> <li><p>è§£å½’æ¡£æ–‡ä»¶</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> hadoop fs -cp har:///output/input.har/* /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="hdfs-é›†ç¾¤è¿ç§»"><a href="#hdfs-é›†ç¾¤è¿ç§»" class="header-anchor">#</a> HDFS é›†ç¾¤è¿ç§»</h2> <p><strong>Apache å’Œ Apache é›†ç¾¤é—´æ•°æ®æ‹·è´</strong>:</p> <ul><li><p>scp</p></li> <li><p>distcp</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>hadoop distcp hdfs://nnl:8020/foo/a   hdfs://nn2:8020/bar/foo
<span class="token comment"># ä¸Šé¢çš„å‘½ä»¤è¡¨ç¤ºä»nnlé›†ç¾¤æ‹·è´ï¼foo/a è·¯å¾„ä¸‹çš„æ•°æ®åˆ°nn2é›†ç¾¤çš„ï¼bar/foo è·¯å¾„ä¸‹ã€‚</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <p><strong>Apache å’Œ CDH é›†ç¾¤é—´æ•°æ®æ‹·è´</strong>:</p> <p>å¾…ç»­...</p> <blockquote><p>å…¶ä»–ï¼šè¿˜æœ‰çŸ­è·¯æœ¬åœ°è¯»å–ç­‰ HAé«˜å¯ç”¨ è”é‚¦æœºåˆ¶ç­‰...</p></blockquote> <h2 id="mapreduce-ç”Ÿäº§ç»éªŒ"><a href="#mapreduce-ç”Ÿäº§ç»éªŒ" class="header-anchor">#</a> MapReduce ç”Ÿäº§ç»éªŒ</h2> <p><strong>è·‘çš„æ…¢åŸå› </strong>:</p> <ul><li>è®¡ç®—æœºæ€§èƒ½:CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ</li> <li>I/o æ“ä½œä¼˜åŒ–
<ul><li>æ•°æ®å€¾æ–œ</li> <li>Map è¿è¡Œæ—¶é—´å¤ªé•¿ï¼Œå¯¼è‡´ Reduce ç­‰å¾…è¿‡ä¹…</li> <li>å°æ–‡ä»¶è¿‡å¤š</li></ul></li></ul> <p><strong>å¸¸ç”¨è°ƒä¼˜å‚æ•°</strong>:</p> <p><img src="https://gitee.com/axcmsm/tmp/raw/master/bigdata/20210903190410.png" alt=""></p> <p><img src="https://gitee.com/axcmsm/tmp/raw/master/bigdata/20210903190500.png" alt=""></p> <p><strong>è§£å†³æ•°æ®å€¾æ–œé—®é¢˜:</strong></p> <ul><li>é¦–å…ˆæ£€æŸ¥æ˜¯å¦ç©ºå€¼è¿‡å¤šé€ æˆçš„æ•°æ®å€¾æ–œ</li> <li>èƒ½åœ¨ map é˜¶æ®µæå‰å¤„ç†ï¼Œæœ€å¥½å…ˆåœ¨ Map é˜¶æ®µå¤„ç†ã€‚å¦‚ï¼šCombinerã€MapJoin</li> <li>è®¾ç½®å¤šä¸ª reduce ä¸ªæ•°</li></ul> <h2 id="yarn-ç”Ÿäº§ç»éªŒ"><a href="#yarn-ç”Ÿäº§ç»éªŒ" class="header-anchor">#</a> Yarn ç”Ÿäº§ç»éªŒ</h2> <p><strong>å¸¸ç”¨çš„è°ƒä¼˜å‚æ•°</strong></p> <p>è°ƒä¼˜å‚æ•°åˆ—è¡¨:</p> <ul><li><p>Resourcemanager ç›¸å…³</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn.resourcemanager.scheduler.client.thread-count ResourceManager å¤„ç†è°ƒåº¦å™¨è¯·æ±‚çš„çº¿ç¨‹æ•°é‡yarn.resourcemanager.scheduler.class é…ç½®è°ƒåº¦å™¨
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <ul><li><p>Nodemanager ç›¸å…³</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn.nodemanager.resource.memory-mb NodeManager ä½¿ç”¨å†…å­˜æ•°
yarn.nodemanager.resource.system-reserved-memory-mb NodeManager ä¸ºç³»ç»Ÿä¿ç•™å¤šå°‘å†…å­˜ï¼Œå’Œä¸Šä¸€ä¸ªå‚æ•°äºŒè€…å–ä¸€å³å¯yarn.nodemanager.resource.cpu-vcores NodeManager ä½¿ç”¨ CPU æ ¸æ•°
yarn.nodemanager.resource.count-logical-processors-as-cores æ˜¯å¦å°†è™šæ‹Ÿæ ¸æ•°å½“ä½œ CPU æ ¸æ•°yarn.nodemanager.resource.pcores-vcores-multiplier è™šæ‹Ÿæ ¸æ•°å’Œç‰©ç†æ ¸æ•°ä¹˜æ•°ï¼Œä¾‹å¦‚ï¼š4 æ ¸ 8 çº¿ç¨‹ï¼Œè¯¥å‚æ•°å°±åº”è®¾ä¸º 2yarn.nodemanager.resource.detect-hardware-capabilities æ˜¯å¦è®© yarn è‡ªå·±æ£€æµ‹ç¡¬ä»¶è¿›è¡Œé…ç½®yarn.nodemanager.pmem-check-enabled æ˜¯å¦å¼€å¯ç‰©ç†å†…å­˜æ£€æŸ¥é™åˆ¶ 
containeryarn.nodemanager.vmem-check-enabled æ˜¯å¦å¼€å¯è™šæ‹Ÿå†…å­˜æ£€æŸ¥é™åˆ¶ 
containeryarn.nodemanager.vmem-pmem-ratio è™šæ‹Ÿå†…å­˜ç‰©ç†å†…å­˜æ¯”ä¾‹
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <ul><li><p>Container å®¹å™¨ç›¸å…³</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn.scheduler.minimum-allocation-mb å®¹å™¨æœ€å°å†…å­˜
yarn.scheduler.maximum-allocation-mb å®¹å™¨æœ€å¤§å†…å­˜
yarn.scheduler.minimum-allocation-vcores å®¹å™¨æœ€å°æ ¸æ•°
yarn.scheduler.maximum-allocation-vcores å®¹å™¨æœ€å¤§æ ¸æ•°
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <p><strong>å®¹é‡è°ƒåº¦å™¨ä½¿ç”¨</strong>,<strong>å…¬å¹³è°ƒåº¦å™¨ä½¿ç”¨</strong></p> <h2 id="hadoop-ç»¼åˆè°ƒä¼˜"><a href="#hadoop-ç»¼åˆè°ƒä¼˜" class="header-anchor">#</a> Hadoop ç»¼åˆè°ƒä¼˜</h2> <p><strong>Hadoop å°æ–‡ä»¶ä¼˜åŒ–æ–¹æ³•</strong>(ç¼ºç‚¹:ä¼šå ç”¨ NN å†…å­˜ç©ºé—´,å…ƒæ•°æ®æ–‡ä»¶è¿‡å¤š,æœç´¢å˜æ…¢,å¯¼è‡´ maptask å¤„ç†æ—¶é—´æ¯”,å¯åŠ¨æ—¶é—´è¿˜å°,æ¶ˆè€—èµ„æº )</p> <ul><li><p>åœ¨æ•°æ®é‡‡é›†çš„æ—¶å€™ï¼Œå°±å°†å°æ–‡ä»¶æˆ–å°æ‰¹æ•°æ®åˆæˆå¤§æ–‡ä»¶å†ä¸Šä¼  HDFSï¼ˆæ•°æ®æºå¤´ï¼‰</p></li> <li><p>Hadoop Archiveï¼ˆå­˜å‚¨æ–¹å‘ æ‰“åŒ…æˆ HAR æ–‡ä»¶ï¼‰</p></li> <li><p>CombineTextInputFormatï¼ˆè®¡ç®—æ–¹å‘,å‡å°‘åˆ‡ç‰‡ï¼‰</p></li> <li><p>å¼€å¯ uber æ¨¡å¼ï¼Œå®ç° JVM é‡ç”¨ï¼ˆè®¡ç®—æ–¹å‘ é»˜è®¤æƒ…å†µå…³é—­ åŒä¸€ä¸ª job çš„å¤šä¸ª task è¿è¡Œåœ¨ä¸€ä¸ª jvm ä¸­ï¼‰</p> <p>mapred-site.xml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®:å¼€å¯ uber ç„¶åè¿›è¡Œåˆ†å‘å³å¯</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- å¼€å¯ uber æ¨¡å¼ï¼Œé»˜è®¤å…³é—­ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.job.ubertask.enable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- uber æ¨¡å¼ä¸­æœ€å¤§çš„ mapTask æ•°é‡ï¼Œå¯å‘ä¸‹ä¿®æ”¹ --&gt;</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.job.ubertask.maxmaps<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- uber æ¨¡å¼ä¸­æœ€å¤§çš„ reduce æ•°é‡ï¼Œå¯å‘ä¸‹ä¿®æ”¹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.job.ubertask.maxreduces<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- uber æ¨¡å¼ä¸­æœ€å¤§çš„è¾“å…¥æ•°æ®é‡ï¼Œé»˜è®¤ä½¿ç”¨ dfs.blocksize çš„å€¼ï¼Œå¯å‘ä¸‹ä¿®æ”¹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.job.ubertask.maxbytes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ul> <p><strong>æ•´ä½“è°ƒä¼˜æ¡ˆä¾‹</strong>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ï¼ˆ1ï¼‰éœ€æ±‚ï¼šä» 1G æ•°æ®ä¸­ï¼Œç»Ÿè®¡æ¯ä¸ªå•è¯å‡ºç°æ¬¡æ•°ã€‚æœåŠ¡å™¨ 3 å°ï¼Œæ¯å°é…ç½® 4G å†…å­˜ï¼Œ4 æ ¸ CPUï¼Œ4 çº¿ç¨‹ã€‚ï¼ˆ2ï¼‰éœ€æ±‚åˆ†æï¼š		1G / 128m = 8 ä¸ª MapTaskï¼›1 ä¸ª ReduceTaskï¼›1 ä¸ª mrAppMaster		å¹³å‡æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œ 10 ä¸ª / 3 å° â‰ˆ 3 ä¸ªä»»åŠ¡ï¼ˆ4 3 3ï¼‰
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>HDFS å‚æ•°è°ƒä¼˜</strong></p> <details class="custom-block details"><summary>ğŸ’¦ğŸ’¦ğŸ’¦ğŸ’¦ğŸ’¦</summary> <p>ï¼ˆ1ï¼‰ä¿®æ”¹ï¼šhadoop-env.sh</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">HDFS_NAMENODE_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Dhadoop.security.logger=INFO,RFAS -Xmx1024m&quot;</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">HDFS_DATANODE_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Dhadoop.security.logger=ERROR,RFAS-Xmx1024m&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ï¼ˆ2ï¼‰ä¿®æ”¹ hdfs-site.xml</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- NameNode æœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ± ï¼Œé»˜è®¤å€¼æ˜¯ 10 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.handler.count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>21<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ï¼ˆ3ï¼‰ä¿®æ”¹ core-site.xml</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- é…ç½®åƒåœ¾å›æ”¶æ—¶é—´ä¸º 60 åˆ†é’Ÿ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.trash.interval<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>60<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ï¼ˆ4ï¼‰åˆ†å‘é…ç½®</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>xsync hadoop-env.sh hdfs-site.xml core-site.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <p><strong>MapReduce å‚æ•°è°ƒä¼˜</strong></p> <details class="custom-block details"><summary>ğŸ’¦ğŸ’¦ğŸ’¦</summary> <p>ï¼ˆ1ï¼‰ä¿®æ”¹ mapred-site.xml</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- ç¯å½¢ç¼“å†²åŒºå¤§å°ï¼Œé»˜è®¤ 100m --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.task.io.sort.mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- ç¯å½¢ç¼“å†²åŒºæº¢å†™é˜ˆå€¼ï¼Œé»˜è®¤ 0.8 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.map.sort.spill.percent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>0.80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- merge åˆå¹¶æ¬¡æ•°ï¼Œé»˜è®¤ 10 ä¸ª --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.task.io.sort.factor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- maptask å†…å­˜ï¼Œé»˜è®¤ 1gï¼› maptask å †å†…å­˜å¤§å°é»˜è®¤å’Œè¯¥å€¼å¤§å°ä¸€è‡´mapreduce.map.java.opts --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.map.memory.mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>
        The amount of memory to request from the scheduler for each map task. If this is not specified or is non-positive, it is inferred from mapreduce.map.java.opts and mapreduce.job.heap.memory-mb.ratio. If java-opts are also not specified, we set it to 1024. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- matask çš„ CPU æ ¸æ•°ï¼Œé»˜è®¤ 1 ä¸ª --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.map.cpu.vcores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- matask å¼‚å¸¸é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ 4 æ¬¡ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.map.maxattempts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- æ¯ä¸ª Reduce å» Map ä¸­æ‹‰å–æ•°æ®çš„å¹¶è¡Œæ•°ã€‚é»˜è®¤å€¼æ˜¯ 5 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.shuffle.parallelcopies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Buffer å¤§å°å  Reduce å¯ç”¨å†…å­˜çš„æ¯”ä¾‹ï¼Œé»˜è®¤å€¼ 0.7 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.shuffle.input.buffer.percent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>0.70<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Buffer ä¸­çš„æ•°æ®è¾¾åˆ°å¤šå°‘æ¯”ä¾‹å¼€å§‹å†™å…¥ç£ç›˜ï¼Œé»˜è®¤å€¼ 0.66ã€‚ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.shuffle.merge.percent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>0.66<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- reducetask å†…å­˜ï¼Œé»˜è®¤ 1gï¼›reducetask å †å†…å­˜å¤§å°é»˜è®¤å’Œè¯¥å€¼å¤§å°ä¸€è‡´mapreduce.reduce.java.opts --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.memory.mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>
        The amount of memory to request from the scheduler for each reduce task. If this is not specified or is non-positive, it is inferred from mapreduce.reduce.java.opts and mapreduce.job.heap.memory-mb.ratio. If java-opts are also not specified, we set it to 1024. 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- reducetask çš„ CPU æ ¸æ•°ï¼Œé»˜è®¤ 1 ä¸ª --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.cpu.vcores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- reducetask å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ 4 æ¬¡ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.maxattempts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- å½“ MapTask å®Œæˆçš„æ¯”ä¾‹è¾¾åˆ°è¯¥å€¼åæ‰ä¼šä¸º ReduceTask ç”³è¯·èµ„æºã€‚é»˜è®¤æ˜¯ 0.05--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.job.reduce.slowstart.completedmaps<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>0.05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- å¦‚æœç¨‹åºåœ¨è§„å®šçš„é»˜è®¤ 10 åˆ†é’Ÿå†…æ²¡æœ‰è¯»åˆ°æ•°æ®ï¼Œå°†å¼ºåˆ¶è¶…æ—¶é€€å‡º --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.task.timeout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>600000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>ï¼ˆ2ï¼‰åˆ†å‘é…ç½®</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> xsync mapred-site.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <p><strong>Yarn å‚æ•°è°ƒä¼˜:</strong></p> <details class="custom-block details"><summary>ğŸ’¦ğŸ’¦ğŸ’¦</summary> <p>ï¼ˆ1ï¼‰ä¿®æ”¹ yarn-site.xml é…ç½®å‚æ•°å¦‚ä¸‹ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- é€‰æ‹©è°ƒåº¦å™¨ï¼Œé»˜è®¤å®¹é‡ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The class to use as the resource scheduler.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.scheduler.class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ResourceManager å¤„ç†è°ƒåº¦å™¨è¯·æ±‚çš„çº¿ç¨‹æ•°é‡,é»˜è®¤ 50ï¼›å¦‚æœæäº¤çš„ä»»åŠ¡æ•°å¤§äº 50ï¼Œå¯ä»¥å¢åŠ è¯¥å€¼ï¼Œä½†æ˜¯ä¸èƒ½è¶…è¿‡ 3 å° * 4 çº¿ç¨‹ = 12 çº¿ç¨‹ï¼ˆå»é™¤å…¶ä»–åº”ç”¨ç¨‹åºå®é™…ä¸èƒ½è¶…è¿‡ 8ï¼‰ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Number of threads to handle scheduler interface.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.scheduler.client.thread-count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- æ˜¯å¦è®© yarn è‡ªåŠ¨æ£€æµ‹ç¡¬ä»¶è¿›è¡Œé…ç½®ï¼Œé»˜è®¤æ˜¯ falseï¼Œå¦‚æœè¯¥èŠ‚ç‚¹æœ‰å¾ˆå¤šå…¶ä»–åº”ç”¨ç¨‹åºï¼Œå»ºè®®æ‰‹åŠ¨é…ç½®ã€‚å¦‚æœè¯¥èŠ‚ç‚¹æ²¡æœ‰å…¶ä»–åº”ç”¨ç¨‹åºï¼Œå¯ä»¥é‡‡ç”¨è‡ªåŠ¨ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Enable auto-detection of node capabilities such asmemory and CPU.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.resource.detect-hardware-capabilities<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- æ˜¯å¦å°†è™šæ‹Ÿæ ¸æ•°å½“ä½œ CPU æ ¸æ•°ï¼Œé»˜è®¤æ˜¯ falseï¼Œé‡‡ç”¨ç‰©ç† CPU æ ¸æ•° --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Flag to determine if logical processors(such ashyperthreads) should be counted as cores. Only applicable on
    Linuxwhen yarn.nodemanager.resource.cpu-vcores is set to -1
    andyarn.nodemanager.resource.detect-hardware-capabilities is true.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.resource.count-logical-processors-ascores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- è™šæ‹Ÿæ ¸æ•°å’Œç‰©ç†æ ¸æ•°ä¹˜æ•°ï¼Œé»˜è®¤æ˜¯ 1.0 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Multiplier to determine how to convert phyiscal cores tovcores. This value is used if
    yarn.nodemanager.resource.cpu-vcoresis set to -1(which implies auto-calculate vcores)
    andyarn.nodemanager.resource.detect-hardware-capabilities is set to true. The number of vcores will be calculated as
    number of CPUs * multiplier.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.resource.pcores-vcores-multiplier<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- NodeManager ä½¿ç”¨å†…å­˜æ•°ï¼Œé»˜è®¤ 8Gï¼Œä¿®æ”¹ä¸º 4G å†…å­˜ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Amount of physical memory, in MB, that can be allocated for containers. If set to -1
    andyarn.nodemanager.resource.detect-hardware-capabilities is true, it isautomatically calculated(in case of Windows
    and Linux) In other cases, the default is 8192MB.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.resource.memory-mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4096<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- nodemanager çš„ CPU æ ¸æ•°ï¼Œä¸æŒ‰ç…§ç¡¬ä»¶ç¯å¢ƒè‡ªåŠ¨è®¾å®šæ—¶é»˜è®¤æ˜¯ 8 ä¸ªï¼Œä¿®æ”¹ä¸º 4 ä¸ª --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Number of vcores that can be allocatedfor containers. This is used by the RM scheduler when
    allocatingresources for containers. This is not used to limit the number ofCPUs used by YARN containers. If it is
    set to -1 andyarn.nodemanager.resource.detect-hardware-capabilities is true, it isautomatically determined from the
    hardware in case of Windows and Linux.In other cases, number of vcores is 8 by default.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.resource.cpu-vcores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- å®¹å™¨æœ€å°å†…å­˜ï¼Œé»˜è®¤ 1G --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The minimum allocation for every container request at the RM in MBs. Memory requests lower than this will
    be set to the value of this property. Additionally, a node manager that is configured to have less memory than this
    value will be shut down by the resource manager.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.minimum-allocation-mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1024<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- å®¹å™¨æœ€å¤§å†…å­˜ï¼Œé»˜è®¤ 8Gï¼Œä¿®æ”¹ä¸º 2G --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The maximum allocation for every container request at the RM in MBs. Memory requests higher than this will
    throw anInvalidResourceRequestException.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.maximum-allocation-mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2048<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- å®¹å™¨æœ€å° CPU æ ¸æ•°ï¼Œé»˜è®¤ 1 ä¸ª --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The minimum allocation for every container request at the RM in terms of virtual CPU cores. Requests lower
    than this will be set to the value of this property. Additionally, a node manager that is configured to have fewer
    virtual cores than this value will be shut down by the resource manager.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.minimum-allocation-vcores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- å®¹å™¨æœ€å¤§ CPU æ ¸æ•°ï¼Œé»˜è®¤ 4 ä¸ªï¼Œä¿®æ”¹ä¸º 2 ä¸ª --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>The maximum allocation for every container request at the RM in terms of virtual CPU cores. Requests higher
    than this will throw anInvalidResourceRequestException.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.maximum-allocation-vcores<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- è™šæ‹Ÿå†…å­˜æ£€æŸ¥ï¼Œé»˜è®¤æ‰“å¼€ï¼Œä¿®æ”¹ä¸ºå…³é—­ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Whether virtual memory limits will be enforced forcontainers.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.vmem-check-enabled<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜è®¾ç½®æ¯”ä¾‹,é»˜è®¤ 2.1 --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Ratio between virtual memory to physical memory whensetting memory limits for containers. Container
    allocations areexpressed in terms of physical memory, and virtual memory usage is allowed to exceed this allocation
    by this ratio.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.vmem-pmem-ratio<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>ï¼ˆ2ï¼‰åˆ†å‘é…ç½®</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> xsync yarn-site.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <hr></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2023/03/22, 21:16:55</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/a611d4/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">yarn</div></a> <a href="/pages/f225ff/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">hadoopæºç è§£æ</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/a611d4/" class="prev">yarn</a></span> <span class="next"><a href="/pages/f225ff/">hadoopæºç è§£æ</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/f53939/"><div>Spring6</div></a> <span>06-18</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/ba69ad/"><div>è‹¥ä¾äºŒå¼€</div></a> <span>06-17</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/998714/"><div>MongoDB</div></a> <span>06-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2461475139&amp;site=qq&amp;menu=yes" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/axcmsm" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=6757658477" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2021-2023
    <span>axcmsm | è½¬è½½æ³¨æ˜å‡ºå¤„ </span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.e7d9515b.js" defer></script><script src="/assets/js/2.125ae6e8.js" defer></script><script src="/assets/js/20.8fbb5432.js" defer></script>
  </body>
</html>
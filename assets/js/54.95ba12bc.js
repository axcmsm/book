(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{482:function(s,t,n){"use strict";n.r(t);var e=n(16),a=Object(e.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("cdh和hdp的对比："),n("a",{attrs:{href:"https://developer.aliyun.com/article/708609",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://developer.aliyun.com/article/708609"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[s._v("#")]),s._v(" 架构")]),s._v(" "),n("p",[n("strong",[s._v("一个管理员")]),s._v(" ：Ambari Server  ： 发布任务  => 且提供了"),n("strong",[s._v("UI界面")])]),s._v(" "),n("p",[n("strong",[s._v("多个工作者")]),s._v("：Ambari  agent：  执行任务")]),s._v(" "),n("p",[s._v("鉴于官网2021年停止维护，由推出CDP，这里就不做过多的说明了")]),s._v(" "),n("p",[n("strong",[s._v("推荐安装参照")]),s._v("："),n("a",{attrs:{href:"https://www.jianshu.com/p/135949f1ac91",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/135949f1ac91"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("strong",[s._v("基本配置")]),s._v("：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("设置文件字符数")])]),s._v(" "),n("li",[n("p",[s._v("配置主机名、和网络ip")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/network-scripts/ifcfg-ens33 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#网络")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hosts "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#映射")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hostname "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#主机名")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("禁用SELink和PackageKit检查umask值")])]),s._v(" "),n("li",[n("p",[s._v("防火墙")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("systemctl disable firewalld "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭开启自启")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" firewalld stop "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭服务")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("局域网内主机下载")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" httpd\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#提供的目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/www/html \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("设置时间同步 俩种方法")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". ntp\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y ntp\nsystemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ntpd\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ntp.conf \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加运行访问的网段")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同意192.168.67.0网段（修改成自己的网段）的所有机器与node01同步时间")]),s._v("\n\trestrict "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".67.0 mask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0 nomodify notrap\n\trestrict "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n\tserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#跟自己对时间 ")]),s._v("\n\tfudage "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.127")]),s._v(".1.0 stratum "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#其他节点")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释添加")]),s._v("\n\tserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".67.221 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("免密登录")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("ssh-keygen -t rsa "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成密钥  全回车")]),s._v("\nssh-copy-id 目标主机   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拷贝密钥到目标主机  yes 输入主机登录密码")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("安装mysql")])]),s._v(" "),n("li",[n("p",[s._v("添加mysql启动")])]),s._v(" "),n("li",[n("p",[s._v("上传解压包对外提供yum源")])]),s._v(" "),n("li",[n("p",[s._v("安装Ambari Server")])]),s._v(" "),n("li",[n("p",[s._v("配置mysql")])]),s._v(" "),n("li",[n("p",[s._v("初始化Ambari Server")])]),s._v(" "),n("li",[n("p",[s._v("登录 ui操作")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);
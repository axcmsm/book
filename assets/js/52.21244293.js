(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{490:function(s,n,a){"use strict";a.r(n);var t=a(16),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"数据仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据仓库"}},[s._v("#")]),s._v(" 数据仓库")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/axcmsm/tmp/raw/master/bigdata/20211021082405.png",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("为企业决策提供数据支撑")])]),s._v(" "),a("p",[s._v("存储、分析、计算")]),s._v(" "),a("p",[a("strong",[s._v("查看日志的方法")]),s._v("：打开控制台管理，network输入log")]),s._v(" "),a("ul",[a("li",[s._v("然后搜索url解析，复制的log数据进行解码")])]),s._v(" "),a("p",[a("strong",[s._v("数据的来源")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("业务数据")]),s._v("：mysql等")]),s._v(" "),a("li",[a("strong",[s._v("用户行为数据")]),s._v("：埋点：日志服务器(文件)")]),s._v(" "),a("li",[s._v("爬虫数据")])]),s._v(" "),a("p",[a("strong",[s._v("数据仓库")]),s._v("：Hive on spark")]),s._v(" "),a("blockquote",[a("p",[s._v("ODS备份=>DWD清洗=>DWS(按天聚合)=>DWT(按年聚合）=>ADS(报表)")]),s._v(" "),a("p",[s._v("调度：Azkaban、Oozie、")])]),s._v(" "),a("p",[a("strong",[s._v("数据传输")]),s._v("：flume(日志)（大的话可用kafka消峰）、sqoop(数据库)")]),s._v(" "),a("p",[a("strong",[s._v("数据输出")]),s._v("：报表系统、用户"),a("strong",[s._v("画像")]),s._v("（统计，规则，机器学习）、推荐系统、机器学习")]),s._v(" "),a("p",[a("strong",[s._v("需求")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("用户行为")]),s._v("数据采集搭建")]),s._v(" "),a("li",[a("strong",[s._v("业务")]),s._v("数据采集搭建")]),s._v(" "),a("li",[a("strong",[s._v("数据仓库维度建模")])]),s._v(" "),a("li",[s._v("分析、"),a("strong",[s._v("设备、会员、商品、地区")]),s._v("、活动等核心主题报表，近100个")]),s._v(" "),a("li",[s._v("采用"),a("strong",[s._v("即席查询")]),s._v("工具对指标进行分析")]),s._v(" "),a("li",[s._v("对"),a("strong",[s._v("集群性能进行监控")]),s._v("，报警。")]),s._v(" "),a("li",[a("strong",[s._v("元数据管理")]),s._v("。")]),s._v(" "),a("li",[a("strong",[s._v("质量监控")])]),s._v(" "),a("li",[a("strong",[s._v("权限管理")])])]),s._v(" "),a("p",[a("strong",[s._v("架构设计")]),s._v("：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/axcmsm/tmp/raw/master/bigdata/20211021082610.png",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("技术选型")])]),s._v(" "),a("blockquote",[a("p",[s._v("因素：数据量大小、业务需求、行业内经验、技术成熟度、开发维护成本、总成本预算")])]),s._v(" "),a("p",[s._v("采集传输："),a("strong",[s._v("flume")]),s._v("、"),a("strong",[s._v("kafka")]),s._v("、"),a("strong",[s._v("sqoop")]),s._v("、Logstash、DataX")]),s._v(" "),a("p",[s._v("数据存储："),a("strong",[s._v("mysql")]),s._v("、"),a("strong",[s._v("hdfs")]),s._v("、"),a("strong",[s._v("hbase")]),s._v("、redis、MongoDM")]),s._v(" "),a("p",[s._v("数据计算："),a("strong",[s._v("Hive")]),s._v("、"),a("strong",[s._v("Tez")]),s._v("、"),a("strong",[s._v("Spark")]),s._v("、Flink、Storm")]),s._v(" "),a("p",[s._v("数据查询："),a("strong",[s._v("Presto")]),s._v("、"),a("strong",[s._v("Kylin")]),s._v("、Impala、Druid、ClickHouse、Doris")]),s._v(" "),a("p",[s._v("数据可视化："),a("strong",[s._v("Echarts、SuperSet")]),s._v("、QuickBi、Datav")]),s._v(" "),a("p",[s._v("调度工具："),a("strong",[s._v("Azkaban")]),s._v("、Oozie、DolphinScheduler、Airflow")]),s._v(" "),a("p",[s._v("集群监控："),a("strong",[s._v("Zabbix")]),s._v("(离线)、prometheus（实时）")]),s._v(" "),a("p",[s._v("权限管理："),a("strong",[s._v("Ranger")]),s._v("、Sentry")]),s._v(" "),a("p",[s._v("元数据管理："),a("strong",[s._v("Atlas")])]),s._v(" "),a("ul",[a("li",[s._v("技术")]),s._v(" "),a("li",[s._v("框架：apache、cdh、hdp")]),s._v(" "),a("li",[s._v("服务器：物理、云主机")]),s._v(" "),a("li",[s._v("集群规模")])]),s._v(" "),a("p",[a("img",{attrs:{src:"D:%5Chuanjin%5C%E7%AC%94%E8%AE%B0%E5%8C%BA%5C%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%9A%8F%E7%AC%94%5C%E5%B0%8F%E9%A1%B9%E7%9B%AE%5Cimg%5Cimage-20211021084229099.png",alt:"image-20211021084229099"}})]),s._v(" "),a("p",[a("strong",[s._v("集群分俩套")]),s._v("：生产or部署")]),s._v(" "),a("p",[s._v("生产集群：10台(看需求)")]),s._v(" "),a("ul",[a("li",[s._v("消耗资源分开")]),s._v(" "),a("li",[s._v("数据传输紧密防止一起")]),s._v(" "),a("li",[s._v("客户端尽量放在一到俩台服务器上，方便外部访问")]),s._v(" "),a("li",[s._v("有依赖关系的尽量放到同一台服务器。")])]),s._v(" "),a("p",[s._v("测试集群：（3台）")]),s._v(" "),a("ul",[a("li",[s._v("内存：644  or 833")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("服务名称")]),s._v(" "),a("th",[s._v("子服务")]),s._v(" "),a("th",[s._v("服务器node1")]),s._v(" "),a("th",[s._v("服务器node2")]),s._v(" "),a("th",[s._v("服务器node3")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("HDFS")]),s._v(" "),a("td",[s._v("NameNode")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("DataNode")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("SecondaryNameNode")]),s._v(" "),a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Yarn")]),s._v(" "),a("td",[s._v("NodeManager")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("Resourcemanager")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Zookeeper")]),s._v(" "),a("td",[s._v("Zookeeper Server")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Flume（采集日志）")]),s._v(" "),a("td",[s._v("Flume")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Kafka")]),s._v(" "),a("td",[s._v("Kafka")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Flume（消费Kafka）")]),s._v(" "),a("td",[s._v("Flume")]),s._v(" "),a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Hive")]),s._v(" "),a("td",[s._v("Hive")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("MySQL")]),s._v(" "),a("td",[s._v("MySQL")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Sqoop")]),s._v(" "),a("td",[s._v("Sqoop")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Presto")]),s._v(" "),a("td",[s._v("Coordinator")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("Worker")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Azkaban")]),s._v(" "),a("td",[s._v("AzkabanWebServer")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("AzkabanExecutorServer")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Spark")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Kylin")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("HBase")]),s._v(" "),a("td",[s._v("HMaster")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[s._v("HRegionServer")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td",[s._v("√")])]),s._v(" "),a("tr",[a("td",[s._v("Superset")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Atlas")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("Solr")]),s._v(" "),a("td",[s._v("Jar")]),s._v(" "),a("td",[s._v("√")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("服务数总计")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("19")]),s._v(" "),a("td",[s._v("8")]),s._v(" "),a("td",[s._v("8")])])])]),s._v(" "),a("p",[a("strong",[s._v("目标数据")]),s._v("：页面、事件、曝光、启动、错误")]),s._v(" "),a("p",[a("strong",[s._v("埋点")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("代码埋点：每一个按钮用js写的 当onclick 记录相关信息发送到日志服务器")]),s._v(" "),a("li",[s._v("可视化埋点：开发一个web页面进行相关配置(里面已经封装好ljs代码)")]),s._v(" "),a("li",[s._v("全埋点：框架实现")])]),s._v(" "),a("blockquote",[a("p",[s._v("日志结构：埋点日志、启动日志")]),s._v(" "),a("p",[s._v("每条数据可以是各个信息模块，公共信息模块")])]),s._v(" "),a("p",[a("strong",[s._v("部署")])]),s._v(" "),a("h2",{attrs:{id:"日志数据采集搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志数据采集搭建"}},[s._v("#")]),s._v(" 日志数据采集搭建")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("flme => kafka(zk)=>flume=>hdfs")])])]),s._v(" "),a("p",[a("strong",[s._v("Flme")]),s._v("： 生产者")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("数据 source、channel、sink 之间的选择。")]),s._v(" "),a("blockquote",[a("p",[s._v("TailDir Source：断点续传、多目录")]),s._v(" "),a("p",[s._v("Kafka Channel，省去了Sink，提高了效率。KafkaChannel数据存储在Kafka里面(磁盘)")])])]),s._v(" "),a("li",[a("p",[s._v("编写 配置文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#1. 定义组件\na1.sources = r1\na1.channels = c1\n#2. 配置source\n#配置拦截器(ETL数据清洗 判断json)\n#3. 配置channel\n#4. sink #kafkachannels 无sink\n#5. 拼接\na1.sources.r1.channels = c1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("p",[a("strong",[s._v("Flime")]),s._v(":消费")]),s._v(" "),a("p",[a("strong",[s._v("零点漂移")])]),s._v(" "),a("blockquote",[a("p",[s._v("flume => kafka => flume => HDFS")]),s._v(" "),a("p",[s._v("时间卡点 io延迟。")]),s._v(" "),a("p",[a("strong",[s._v("用时间戳拦截器")]),s._v(" 处理")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#1. 定义组件\na1.sources = r1\na1.channels = c1\n#2. 配置source kafka \n#3. 时间戳拦截器 解决零点漂移问题\n#4. 配置channel\n#5. sink #kafkachannels 无sink\n#6. 拼接\na1.sources.r1.channels = c1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"业务数据采集搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#业务数据采集搭建"}},[s._v("#")]),s._v(" 业务数据采集搭建")]),s._v(" "),a("p",[a("strong",[s._v("SKU&SPU")])]),s._v(" "),a("ul",[a("li",[s._v("sku 库存量基本单位， 每个产品都有对应唯一的sku号")]),s._v(" "),a("li",[s._v("spu 商品聚合的最小单位，一组可复用、易检索的标准化信息。")])]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("平台属性or销售属性")])])]),s._v(" "),a("h3",{attrs:{id:"电商系统表结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#电商系统表结构"}},[s._v("#")]),s._v(" 电商系统表结构")]),s._v(" "),a("ul",[a("li",[s._v("查看宏观表（那些表）")]),s._v(" "),a("li",[s._v("熟悉表结构（行列）")]),s._v(" "),a("li",[s._v("数据如何发送变化")])]),s._v(" "),a("p",[a("strong",[s._v("搭建")])]),s._v(" "),a("ul",[a("li",[s._v("批量同步")]),s._v(" "),a("li",[s._v("实时同步")])]),s._v(" "),a("blockquote",[a("p",[s._v("sqoop 导入导出")]),s._v(" "),a("p",[s._v("底层是mapreduce   有map 没有reduce聚合 所以没有计算")]),s._v(" "),a("p",[s._v("bin/sqoop help  查看命令")]),s._v(" "),a("p",[s._v("import导入 export导出  传入给定参数即可")])]),s._v(" "),a("h3",{attrs:{id:"同步策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步策略"}},[s._v("#")]),s._v(" 同步策略")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("全量表：完整的  （适 "),a("strong",[s._v("数据量小，可会发生变化")]),s._v("）")]),s._v(" "),a("blockquote",[a("p",[s._v("每日全量表： 按日期分区")]),s._v(" "),a("p",[s._v("每日存储一次作为一个分区")])])]),s._v(" "),a("li",[a("p",[s._v("增量表：新增加的 （适 "),a("strong",[s._v("数据量大、只新增不变化")]),s._v("）")]),s._v(" "),a("blockquote",[a("p",[s._v("按日期分区，保存业务系统新增数据")])])]),s._v(" "),a("li",[a("p",[s._v("新增变化表：增加和变化的 （ "),a("strong",[s._v("量大+变化")]),s._v("）")]),s._v(" "),a("blockquote",[a("p",[s._v("业务数据库新增加的数据和未发生变化的进行整合")])])]),s._v(" "),a("li",[a("p",[s._v("特殊表：只存一次  （"),a("strong",[s._v("不变化")]),s._v("）")]),s._v(" "),a("blockquote",[a("p",[s._v("不发生变化的表，地区，省份，民族等。")])])])]),s._v(" "),a("p",[s._v("第一次同步时要采用全量+对应的方式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#全量 只执行一次\nbin/sqoop import \\\n--connect jdbc:mysql://node1:3306/gmall \\\n--username root \\\n--password hadoop \\\n--query 'select * from order_info where $CONDITIONS ' \\\n--table /order_info/2020-06-14 \\\n--delete-target-dir \\\n--num-mappers 2 \\\n--split-by id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("新增和变化\n//data -d '-1 day' #获取前一天数据\ndo_data ='data -d '-1 day' +%F'\nbin/sqoop import \\\n--connect jdbc:mysql://node1:3306/gmall \\\n--username root \\\n--password hadoop \\\n--query 'select * from order_info where (data_format(create_time,'%Y-%m-%d')='$do_data' or data_format(operate_time,'%Y-%m-%d')='$do_data') and $CONDITIONS' \\\n--table /order_info/$do_data \\\n--delete-target-dir \\\n--num-mappers 2 \\\n--split-by id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("可以把这俩个封装成一个脚本")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#! /bin/bash\n\nAPP=gmall\nsqoop=/opt/module/sqoop/bin/sqoop\n\nif [ -n "$2" ] ;then\n   do_date=$2\nelse \n   echo "请传入日期参数"\n   exit\nfi \n\nimport_data(){\n$sqoop import \\\n--connect jdbc:mysql://node1:3306/$APP \\\n--username root \\\n--password hadoop \\\n--target-dir /origin_data/$APP/db/$1/$do_date \\\n--delete-target-dir \\\n--query "$2 where \\$CONDITIONS" \\\n--num-mappers 1 \\\n--fields-terminated-by \'\\t\' \\\n--compress \\\n--compression-codec lzop \\\n--null-string \'\\\\N\' \\\n--null-non-string \'\\\\N\'\n\nhadoop jar /opt/module/hadoop-3.1.3/share/hadoop/common/hadoop-lzo-0.4.20.jar com.hadoop.compression.lzo.DistributedLzoIndexer /origin_data/$APP/db/$1/$do_date\n}\n\nimport_order_info(){\n  import_data order_info "select\n                            id, \n                            total_amount, \n                            order_status, \n                            user_id, \n                            payment_way,\n                            delivery_address,\n                            out_trade_no, \n                            create_time, \n                            operate_time,\n                            expire_time,\n                            tracking_no,\n                            province_id,\n                            activity_reduce_amount,\n                            coupon_reduce_amount,                            \n                            original_total_amount,\n                            feight_fee,\n                            feight_fee_reduce      \n                        from order_info"\n}\n\nimport_coupon_use(){\n  import_data coupon_use "select\n                          id,\n                          coupon_id,\n                          user_id,\n                          order_id,\n                          coupon_status,\n                          get_time,\n                          using_time,\n                          used_time,\n                          expire_time\n                        from coupon_use"\n}\n\nimport_order_status_log(){\n  import_data order_status_log "select\n                                  id,\n                                  order_id,\n                                  order_status,\n                                  operate_time\n                                from order_status_log"\n}\n\nimport_user_info(){\n  import_data "user_info" "select \n                            id,\n                            login_name,\n                            nick_name,\n                            name,\n                            phone_num,\n                            email,\n                            user_level, \n                            birthday,\n                            gender,\n                            create_time,\n                            operate_time\n                          from user_info"\n}\n\nimport_order_detail(){\n  import_data order_detail "select \n                              id,\n                              order_id, \n                              sku_id,\n                              sku_name,\n                              order_price,\n                              sku_num, \n                              create_time,\n                              source_type,\n                              source_id,\n                              split_total_amount,\n                              split_activity_amount,\n                              split_coupon_amount\n                            from order_detail"\n}\n\nimport_payment_info(){\n  import_data "payment_info"  "select \n                                id,  \n                                out_trade_no, \n                                order_id, \n                                user_id, \n                                payment_type, \n                                trade_no, \n                                total_amount,  \n                                subject, \n                                payment_status,\n                                create_time,\n                                callback_time \n                              from payment_info"\n}\n\nimport_comment_info(){\n  import_data comment_info "select\n                              id,\n                              user_id,\n                              sku_id,\n                              spu_id,\n                              order_id,\n                              appraise,\n                              create_time\n                            from comment_info"\n}\n\nimport_order_refund_info(){\n  import_data order_refund_info "select\n                                id,\n                                user_id,\n                                order_id,\n                                sku_id,\n                                refund_type,\n                                refund_num,\n                                refund_amount,\n                                refund_reason_type,\n                                refund_status,\n                                create_time\n                              from order_refund_info"\n}\n\nimport_sku_info(){\n  import_data sku_info "select \n                          id,\n                          spu_id,\n                          price,\n                          sku_name,\n                          sku_desc,\n                          weight,\n                          tm_id,\n                          category3_id,\n                          is_sale,\n                          create_time\n                        from sku_info"\n}\n\nimport_base_category1(){\n  import_data "base_category1" "select \n                                  id,\n                                  name \n                                from base_category1"\n}\n\nimport_base_category2(){\n  import_data "base_category2" "select\n                                  id,\n                                  name,\n                                  category1_id \n                                from base_category2"\n}\n\nimport_base_category3(){\n  import_data "base_category3" "select\n                                  id,\n                                  name,\n                                  category2_id\n                                from base_category3"\n}\n\nimport_base_province(){\n  import_data base_province "select\n                              id,\n                              name,\n                              region_id,\n                              area_code,\n                              iso_code,\n                              iso_3166_2\n                            from base_province"\n}\n\nimport_base_region(){\n  import_data base_region "select\n                              id,\n                              region_name\n                            from base_region"\n}\n\nimport_base_trademark(){\n  import_data base_trademark "select\n                                id,\n                                tm_name\n                              from base_trademark"\n}\n\nimport_spu_info(){\n  import_data spu_info "select\n                            id,\n                            spu_name,\n                            category3_id,\n                            tm_id\n                          from spu_info"\n}\n\nimport_favor_info(){\n  import_data favor_info "select\n                          id,\n                          user_id,\n                          sku_id,\n                          spu_id,\n                          is_cancel,\n                          create_time,\n                          cancel_time\n                        from favor_info"\n}\n\nimport_cart_info(){\n  import_data cart_info "select\n                        id,\n                        user_id,\n                        sku_id,\n                        cart_price,\n                        sku_num,\n                        sku_name,\n                        create_time,\n                        operate_time,\n                        is_ordered,\n                        order_time,\n                        source_type,\n                        source_id\n                      from cart_info"\n}\n\nimport_coupon_info(){\n  import_data coupon_info "select\n                          id,\n                          coupon_name,\n                          coupon_type,\n                          condition_amount,\n                          condition_num,\n                          activity_id,\n                          benefit_amount,\n                          benefit_discount,\n                          create_time,\n                          range_type,\n                          limit_num,\n                          taken_count,\n                          start_time,\n                          end_time,\n                          operate_time,\n                          expire_time\n                        from coupon_info"\n}\n\nimport_activity_info(){\n  import_data activity_info "select\n                              id,\n                              activity_name,\n                              activity_type,\n                              start_time,\n                              end_time,\n                              create_time\n                            from activity_info"\n}\n\nimport_activity_rule(){\n    import_data activity_rule "select\n                                    id,\n                                    activity_id,\n                                    activity_type,\n                                    condition_amount,\n                                    condition_num,\n                                    benefit_amount,\n                                    benefit_discount,\n                                    benefit_level\n                                from activity_rule"\n}\n\nimport_base_dic(){\n    import_data base_dic "select\n                            dic_code,\n                            dic_name,\n                            parent_code,\n                            create_time,\n                            operate_time\n                          from base_dic"\n}\n\n\nimport_order_detail_activity(){\n    import_data order_detail_activity "select\n                                                                id,\n                                                                order_id,\n                                                                order_detail_id,\n                                                                activity_id,\n                                                                activity_rule_id,\n                                                                sku_id,\n                                                                create_time\n                                                            from order_detail_activity"\n}\n\n\nimport_order_detail_coupon(){\n    import_data order_detail_coupon "select\n                                                                id,\n\t\t\t\t\t\t\t\t                                                order_id,\n                                                                order_detail_id,\n                                                                coupon_id,\n                                                                coupon_use_id,\n                                                                sku_id,\n                                                                create_time\n                                                            from order_detail_coupon"\n}\n\n\nimport_refund_payment(){\n    import_data refund_payment "select\n                                                        id,\n                                                        out_trade_no,\n                                                        order_id,\n                                                        sku_id,\n                                                        payment_type,\n                                                        trade_no,\n                                                        total_amount,\n                                                        subject,\n                                                        refund_status,\n                                                        create_time,\n                                                        callback_time\n                                                    from refund_payment"                                                    \n\n}\n\nimport_sku_attr_value(){\n    import_data sku_attr_value "select\n                                                    id,\n                                                    attr_id,\n                                                    value_id,\n                                                    sku_id,\n                                                    attr_name,\n                                                    value_name\n                                                from sku_attr_value"\n}\n\n\nimport_sku_sale_attr_value(){\n    import_data sku_sale_attr_value "select\n                                                            id,\n                                                            sku_id,\n                                                            spu_id,\n                                                            sale_attr_value_id,\n                                                            sale_attr_id,\n                                                            sale_attr_name,\n                                                            sale_attr_value_name\n                                                        from sku_sale_attr_value"\n}\n\ncase $1 in\n  "order_info")\n     import_order_info\n;;\n  "base_category1")\n     import_base_category1\n;;\n  "base_category2")\n     import_base_category2\n;;\n  "base_category3")\n     import_base_category3\n;;\n  "order_detail")\n     import_order_detail\n;;\n  "sku_info")\n     import_sku_info\n;;\n  "user_info")\n     import_user_info\n;;\n  "payment_info")\n     import_payment_info\n;;\n  "base_province")\n     import_base_province\n;;\n  "base_region")\n     import_base_region\n;;\n  "base_trademark")\n     import_base_trademark\n;;\n  "activity_info")\n      import_activity_info\n;;\n  "cart_info")\n      import_cart_info\n;;\n  "comment_info")\n      import_comment_info\n;;\n  "coupon_info")\n      import_coupon_info\n;;\n  "coupon_use")\n      import_coupon_use\n;;\n  "favor_info")\n      import_favor_info\n;;\n  "order_refund_info")\n      import_order_refund_info\n;;\n  "order_status_log")\n      import_order_status_log\n;;\n  "spu_info")\n      import_spu_info\n;;\n  "activity_rule")\n      import_activity_rule\n;;\n  "base_dic")\n      import_base_dic\n;;\n  "order_detail_activity")\n      import_order_detail_activity\n;;\n  "order_detail_coupon")\n      import_order_detail_coupon\n;;\n  "refund_payment")\n      import_refund_payment\n;;\n  "sku_attr_value")\n      import_sku_attr_value\n;;\n  "sku_sale_attr_value")\n      import_sku_sale_attr_value\n;;\n  "all")\n   import_base_category1\n   import_base_category2\n   import_base_category3\n   import_order_info\n   import_order_detail\n   import_sku_info\n   import_user_info\n   import_payment_info\n   import_base_region\n   import_base_province\n   import_base_trademark\n   import_activity_info\n   import_cart_info\n   import_comment_info\n   import_coupon_use\n   import_coupon_info\n   import_favor_info\n   import_order_refund_info\n   import_order_status_log\n   import_spu_info\n   import_activity_rule\n   import_base_dic\n   import_order_detail_activity\n   import_order_detail_coupon\n   import_refund_payment\n   import_sku_attr_value\n   import_sku_sale_attr_value\n;;\nesac\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br"),a("span",{staticClass:"line-number"},[s._v("249")]),a("br"),a("span",{staticClass:"line-number"},[s._v("250")]),a("br"),a("span",{staticClass:"line-number"},[s._v("251")]),a("br"),a("span",{staticClass:"line-number"},[s._v("252")]),a("br"),a("span",{staticClass:"line-number"},[s._v("253")]),a("br"),a("span",{staticClass:"line-number"},[s._v("254")]),a("br"),a("span",{staticClass:"line-number"},[s._v("255")]),a("br"),a("span",{staticClass:"line-number"},[s._v("256")]),a("br"),a("span",{staticClass:"line-number"},[s._v("257")]),a("br"),a("span",{staticClass:"line-number"},[s._v("258")]),a("br"),a("span",{staticClass:"line-number"},[s._v("259")]),a("br"),a("span",{staticClass:"line-number"},[s._v("260")]),a("br"),a("span",{staticClass:"line-number"},[s._v("261")]),a("br"),a("span",{staticClass:"line-number"},[s._v("262")]),a("br"),a("span",{staticClass:"line-number"},[s._v("263")]),a("br"),a("span",{staticClass:"line-number"},[s._v("264")]),a("br"),a("span",{staticClass:"line-number"},[s._v("265")]),a("br"),a("span",{staticClass:"line-number"},[s._v("266")]),a("br"),a("span",{staticClass:"line-number"},[s._v("267")]),a("br"),a("span",{staticClass:"line-number"},[s._v("268")]),a("br"),a("span",{staticClass:"line-number"},[s._v("269")]),a("br"),a("span",{staticClass:"line-number"},[s._v("270")]),a("br"),a("span",{staticClass:"line-number"},[s._v("271")]),a("br"),a("span",{staticClass:"line-number"},[s._v("272")]),a("br"),a("span",{staticClass:"line-number"},[s._v("273")]),a("br"),a("span",{staticClass:"line-number"},[s._v("274")]),a("br"),a("span",{staticClass:"line-number"},[s._v("275")]),a("br"),a("span",{staticClass:"line-number"},[s._v("276")]),a("br"),a("span",{staticClass:"line-number"},[s._v("277")]),a("br"),a("span",{staticClass:"line-number"},[s._v("278")]),a("br"),a("span",{staticClass:"line-number"},[s._v("279")]),a("br"),a("span",{staticClass:"line-number"},[s._v("280")]),a("br"),a("span",{staticClass:"line-number"},[s._v("281")]),a("br"),a("span",{staticClass:"line-number"},[s._v("282")]),a("br"),a("span",{staticClass:"line-number"},[s._v("283")]),a("br"),a("span",{staticClass:"line-number"},[s._v("284")]),a("br"),a("span",{staticClass:"line-number"},[s._v("285")]),a("br"),a("span",{staticClass:"line-number"},[s._v("286")]),a("br"),a("span",{staticClass:"line-number"},[s._v("287")]),a("br"),a("span",{staticClass:"line-number"},[s._v("288")]),a("br"),a("span",{staticClass:"line-number"},[s._v("289")]),a("br"),a("span",{staticClass:"line-number"},[s._v("290")]),a("br"),a("span",{staticClass:"line-number"},[s._v("291")]),a("br"),a("span",{staticClass:"line-number"},[s._v("292")]),a("br"),a("span",{staticClass:"line-number"},[s._v("293")]),a("br"),a("span",{staticClass:"line-number"},[s._v("294")]),a("br"),a("span",{staticClass:"line-number"},[s._v("295")]),a("br"),a("span",{staticClass:"line-number"},[s._v("296")]),a("br"),a("span",{staticClass:"line-number"},[s._v("297")]),a("br"),a("span",{staticClass:"line-number"},[s._v("298")]),a("br"),a("span",{staticClass:"line-number"},[s._v("299")]),a("br"),a("span",{staticClass:"line-number"},[s._v("300")]),a("br"),a("span",{staticClass:"line-number"},[s._v("301")]),a("br"),a("span",{staticClass:"line-number"},[s._v("302")]),a("br"),a("span",{staticClass:"line-number"},[s._v("303")]),a("br"),a("span",{staticClass:"line-number"},[s._v("304")]),a("br"),a("span",{staticClass:"line-number"},[s._v("305")]),a("br"),a("span",{staticClass:"line-number"},[s._v("306")]),a("br"),a("span",{staticClass:"line-number"},[s._v("307")]),a("br"),a("span",{staticClass:"line-number"},[s._v("308")]),a("br"),a("span",{staticClass:"line-number"},[s._v("309")]),a("br"),a("span",{staticClass:"line-number"},[s._v("310")]),a("br"),a("span",{staticClass:"line-number"},[s._v("311")]),a("br"),a("span",{staticClass:"line-number"},[s._v("312")]),a("br"),a("span",{staticClass:"line-number"},[s._v("313")]),a("br"),a("span",{staticClass:"line-number"},[s._v("314")]),a("br"),a("span",{staticClass:"line-number"},[s._v("315")]),a("br"),a("span",{staticClass:"line-number"},[s._v("316")]),a("br"),a("span",{staticClass:"line-number"},[s._v("317")]),a("br"),a("span",{staticClass:"line-number"},[s._v("318")]),a("br"),a("span",{staticClass:"line-number"},[s._v("319")]),a("br"),a("span",{staticClass:"line-number"},[s._v("320")]),a("br"),a("span",{staticClass:"line-number"},[s._v("321")]),a("br"),a("span",{staticClass:"line-number"},[s._v("322")]),a("br"),a("span",{staticClass:"line-number"},[s._v("323")]),a("br"),a("span",{staticClass:"line-number"},[s._v("324")]),a("br"),a("span",{staticClass:"line-number"},[s._v("325")]),a("br"),a("span",{staticClass:"line-number"},[s._v("326")]),a("br"),a("span",{staticClass:"line-number"},[s._v("327")]),a("br"),a("span",{staticClass:"line-number"},[s._v("328")]),a("br"),a("span",{staticClass:"line-number"},[s._v("329")]),a("br"),a("span",{staticClass:"line-number"},[s._v("330")]),a("br"),a("span",{staticClass:"line-number"},[s._v("331")]),a("br"),a("span",{staticClass:"line-number"},[s._v("332")]),a("br"),a("span",{staticClass:"line-number"},[s._v("333")]),a("br"),a("span",{staticClass:"line-number"},[s._v("334")]),a("br"),a("span",{staticClass:"line-number"},[s._v("335")]),a("br"),a("span",{staticClass:"line-number"},[s._v("336")]),a("br"),a("span",{staticClass:"line-number"},[s._v("337")]),a("br"),a("span",{staticClass:"line-number"},[s._v("338")]),a("br"),a("span",{staticClass:"line-number"},[s._v("339")]),a("br"),a("span",{staticClass:"line-number"},[s._v("340")]),a("br"),a("span",{staticClass:"line-number"},[s._v("341")]),a("br"),a("span",{staticClass:"line-number"},[s._v("342")]),a("br"),a("span",{staticClass:"line-number"},[s._v("343")]),a("br"),a("span",{staticClass:"line-number"},[s._v("344")]),a("br"),a("span",{staticClass:"line-number"},[s._v("345")]),a("br"),a("span",{staticClass:"line-number"},[s._v("346")]),a("br"),a("span",{staticClass:"line-number"},[s._v("347")]),a("br"),a("span",{staticClass:"line-number"},[s._v("348")]),a("br"),a("span",{staticClass:"line-number"},[s._v("349")]),a("br"),a("span",{staticClass:"line-number"},[s._v("350")]),a("br"),a("span",{staticClass:"line-number"},[s._v("351")]),a("br"),a("span",{staticClass:"line-number"},[s._v("352")]),a("br"),a("span",{staticClass:"line-number"},[s._v("353")]),a("br"),a("span",{staticClass:"line-number"},[s._v("354")]),a("br"),a("span",{staticClass:"line-number"},[s._v("355")]),a("br"),a("span",{staticClass:"line-number"},[s._v("356")]),a("br"),a("span",{staticClass:"line-number"},[s._v("357")]),a("br"),a("span",{staticClass:"line-number"},[s._v("358")]),a("br"),a("span",{staticClass:"line-number"},[s._v("359")]),a("br"),a("span",{staticClass:"line-number"},[s._v("360")]),a("br"),a("span",{staticClass:"line-number"},[s._v("361")]),a("br"),a("span",{staticClass:"line-number"},[s._v("362")]),a("br"),a("span",{staticClass:"line-number"},[s._v("363")]),a("br"),a("span",{staticClass:"line-number"},[s._v("364")]),a("br"),a("span",{staticClass:"line-number"},[s._v("365")]),a("br"),a("span",{staticClass:"line-number"},[s._v("366")]),a("br"),a("span",{staticClass:"line-number"},[s._v("367")]),a("br"),a("span",{staticClass:"line-number"},[s._v("368")]),a("br"),a("span",{staticClass:"line-number"},[s._v("369")]),a("br"),a("span",{staticClass:"line-number"},[s._v("370")]),a("br"),a("span",{staticClass:"line-number"},[s._v("371")]),a("br"),a("span",{staticClass:"line-number"},[s._v("372")]),a("br"),a("span",{staticClass:"line-number"},[s._v("373")]),a("br"),a("span",{staticClass:"line-number"},[s._v("374")]),a("br"),a("span",{staticClass:"line-number"},[s._v("375")]),a("br"),a("span",{staticClass:"line-number"},[s._v("376")]),a("br"),a("span",{staticClass:"line-number"},[s._v("377")]),a("br"),a("span",{staticClass:"line-number"},[s._v("378")]),a("br"),a("span",{staticClass:"line-number"},[s._v("379")]),a("br"),a("span",{staticClass:"line-number"},[s._v("380")]),a("br"),a("span",{staticClass:"line-number"},[s._v("381")]),a("br"),a("span",{staticClass:"line-number"},[s._v("382")]),a("br"),a("span",{staticClass:"line-number"},[s._v("383")]),a("br"),a("span",{staticClass:"line-number"},[s._v("384")]),a("br"),a("span",{staticClass:"line-number"},[s._v("385")]),a("br"),a("span",{staticClass:"line-number"},[s._v("386")]),a("br"),a("span",{staticClass:"line-number"},[s._v("387")]),a("br"),a("span",{staticClass:"line-number"},[s._v("388")]),a("br"),a("span",{staticClass:"line-number"},[s._v("389")]),a("br"),a("span",{staticClass:"line-number"},[s._v("390")]),a("br"),a("span",{staticClass:"line-number"},[s._v("391")]),a("br"),a("span",{staticClass:"line-number"},[s._v("392")]),a("br"),a("span",{staticClass:"line-number"},[s._v("393")]),a("br"),a("span",{staticClass:"line-number"},[s._v("394")]),a("br"),a("span",{staticClass:"line-number"},[s._v("395")]),a("br"),a("span",{staticClass:"line-number"},[s._v("396")]),a("br"),a("span",{staticClass:"line-number"},[s._v("397")]),a("br"),a("span",{staticClass:"line-number"},[s._v("398")]),a("br"),a("span",{staticClass:"line-number"},[s._v("399")]),a("br"),a("span",{staticClass:"line-number"},[s._v("400")]),a("br"),a("span",{staticClass:"line-number"},[s._v("401")]),a("br"),a("span",{staticClass:"line-number"},[s._v("402")]),a("br"),a("span",{staticClass:"line-number"},[s._v("403")]),a("br"),a("span",{staticClass:"line-number"},[s._v("404")]),a("br"),a("span",{staticClass:"line-number"},[s._v("405")]),a("br"),a("span",{staticClass:"line-number"},[s._v("406")]),a("br"),a("span",{staticClass:"line-number"},[s._v("407")]),a("br"),a("span",{staticClass:"line-number"},[s._v("408")]),a("br"),a("span",{staticClass:"line-number"},[s._v("409")]),a("br"),a("span",{staticClass:"line-number"},[s._v("410")]),a("br"),a("span",{staticClass:"line-number"},[s._v("411")]),a("br"),a("span",{staticClass:"line-number"},[s._v("412")]),a("br"),a("span",{staticClass:"line-number"},[s._v("413")]),a("br"),a("span",{staticClass:"line-number"},[s._v("414")]),a("br"),a("span",{staticClass:"line-number"},[s._v("415")]),a("br"),a("span",{staticClass:"line-number"},[s._v("416")]),a("br"),a("span",{staticClass:"line-number"},[s._v("417")]),a("br"),a("span",{staticClass:"line-number"},[s._v("418")]),a("br"),a("span",{staticClass:"line-number"},[s._v("419")]),a("br"),a("span",{staticClass:"line-number"},[s._v("420")]),a("br"),a("span",{staticClass:"line-number"},[s._v("421")]),a("br"),a("span",{staticClass:"line-number"},[s._v("422")]),a("br"),a("span",{staticClass:"line-number"},[s._v("423")]),a("br"),a("span",{staticClass:"line-number"},[s._v("424")]),a("br"),a("span",{staticClass:"line-number"},[s._v("425")]),a("br"),a("span",{staticClass:"line-number"},[s._v("426")]),a("br"),a("span",{staticClass:"line-number"},[s._v("427")]),a("br"),a("span",{staticClass:"line-number"},[s._v("428")]),a("br"),a("span",{staticClass:"line-number"},[s._v("429")]),a("br"),a("span",{staticClass:"line-number"},[s._v("430")]),a("br"),a("span",{staticClass:"line-number"},[s._v("431")]),a("br"),a("span",{staticClass:"line-number"},[s._v("432")]),a("br"),a("span",{staticClass:"line-number"},[s._v("433")]),a("br"),a("span",{staticClass:"line-number"},[s._v("434")]),a("br"),a("span",{staticClass:"line-number"},[s._v("435")]),a("br"),a("span",{staticClass:"line-number"},[s._v("436")]),a("br"),a("span",{staticClass:"line-number"},[s._v("437")]),a("br"),a("span",{staticClass:"line-number"},[s._v("438")]),a("br"),a("span",{staticClass:"line-number"},[s._v("439")]),a("br"),a("span",{staticClass:"line-number"},[s._v("440")]),a("br"),a("span",{staticClass:"line-number"},[s._v("441")]),a("br"),a("span",{staticClass:"line-number"},[s._v("442")]),a("br"),a("span",{staticClass:"line-number"},[s._v("443")]),a("br"),a("span",{staticClass:"line-number"},[s._v("444")]),a("br"),a("span",{staticClass:"line-number"},[s._v("445")]),a("br"),a("span",{staticClass:"line-number"},[s._v("446")]),a("br"),a("span",{staticClass:"line-number"},[s._v("447")]),a("br"),a("span",{staticClass:"line-number"},[s._v("448")]),a("br"),a("span",{staticClass:"line-number"},[s._v("449")]),a("br"),a("span",{staticClass:"line-number"},[s._v("450")]),a("br"),a("span",{staticClass:"line-number"},[s._v("451")]),a("br"),a("span",{staticClass:"line-number"},[s._v("452")]),a("br"),a("span",{staticClass:"line-number"},[s._v("453")]),a("br"),a("span",{staticClass:"line-number"},[s._v("454")]),a("br"),a("span",{staticClass:"line-number"},[s._v("455")]),a("br"),a("span",{staticClass:"line-number"},[s._v("456")]),a("br"),a("span",{staticClass:"line-number"},[s._v("457")]),a("br"),a("span",{staticClass:"line-number"},[s._v("458")]),a("br"),a("span",{staticClass:"line-number"},[s._v("459")]),a("br"),a("span",{staticClass:"line-number"},[s._v("460")]),a("br"),a("span",{staticClass:"line-number"},[s._v("461")]),a("br"),a("span",{staticClass:"line-number"},[s._v("462")]),a("br"),a("span",{staticClass:"line-number"},[s._v("463")]),a("br"),a("span",{staticClass:"line-number"},[s._v("464")]),a("br"),a("span",{staticClass:"line-number"},[s._v("465")]),a("br"),a("span",{staticClass:"line-number"},[s._v("466")]),a("br"),a("span",{staticClass:"line-number"},[s._v("467")]),a("br"),a("span",{staticClass:"line-number"},[s._v("468")]),a("br"),a("span",{staticClass:"line-number"},[s._v("469")]),a("br"),a("span",{staticClass:"line-number"},[s._v("470")]),a("br"),a("span",{staticClass:"line-number"},[s._v("471")]),a("br"),a("span",{staticClass:"line-number"},[s._v("472")]),a("br"),a("span",{staticClass:"line-number"},[s._v("473")]),a("br"),a("span",{staticClass:"line-number"},[s._v("474")]),a("br"),a("span",{staticClass:"line-number"},[s._v("475")]),a("br"),a("span",{staticClass:"line-number"},[s._v("476")]),a("br"),a("span",{staticClass:"line-number"},[s._v("477")]),a("br"),a("span",{staticClass:"line-number"},[s._v("478")]),a("br"),a("span",{staticClass:"line-number"},[s._v("479")]),a("br"),a("span",{staticClass:"line-number"},[s._v("480")]),a("br"),a("span",{staticClass:"line-number"},[s._v("481")]),a("br"),a("span",{staticClass:"line-number"},[s._v("482")]),a("br"),a("span",{staticClass:"line-number"},[s._v("483")]),a("br"),a("span",{staticClass:"line-number"},[s._v("484")]),a("br"),a("span",{staticClass:"line-number"},[s._v("485")]),a("br"),a("span",{staticClass:"line-number"},[s._v("486")]),a("br"),a("span",{staticClass:"line-number"},[s._v("487")]),a("br")])]),a("p",[s._v("传入 表名 or all   + 日期")]),s._v(" "),a("p",[s._v("每日同步:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#! /bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("APP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("gmall\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sqoop")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/sqoop/bin/sqoop\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("do_date")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("do_date")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-1 day'")]),s._v(" +%F"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sqoop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--connect jdbc:mysql://node1:3306/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$APP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--username root "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--password hadoop "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--target-dir /origin_data/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$APP")]),s._v("/db/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--delete-target-dir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--query "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" and  \\"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CONDITIONS")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--num-mappers "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--fields-terminated-by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\t'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--compress "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--compression-codec lzop "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--null-string "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\\\N'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--null-non-string "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\\\N'")]),s._v("\n\nhadoop jar /opt/module/hadoop-3.1.3/share/hadoop/common/hadoop-lzo-0.4.20.jar com.hadoop.compression.lzo.DistributedLzoIndexer /origin_data/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$APP")]),s._v("/db/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data order_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                            id, \n                            total_amount, \n                            order_status, \n                            user_id, \n                            payment_way,\n                            delivery_address,\n                            out_trade_no, \n                            create_time, \n                            operate_time,\n                            expire_time,\n                            tracking_no,\n                            province_id,\n                            activity_reduce_amount,\n                            coupon_reduce_amount,                            \n                            original_total_amount,\n                            feight_fee,\n                            feight_fee_reduce      \n                        from order_info\n                        where (date_format(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("' \n                        or date_format(operate_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("')\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_coupon_use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data coupon_use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                          id,\n                          coupon_id,\n                          user_id,\n                          order_id,\n                          coupon_status,\n                          get_time,\n                          using_time,\n                          used_time,\n                          expire_time\n                        from coupon_use\n                        where (date_format(get_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\n                        or date_format(using_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\n                        or date_format(used_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\n                        or date_format(expire_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("')\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_status_log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data order_status_log "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                                  id,\n                                  order_id,\n                                  order_status,\n                                  operate_time\n                                from order_status_log\n                                where date_format(operate_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_user_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_info"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select \n                            id,\n                            login_name,\n                            nick_name,\n                            name,\n                            phone_num,\n                            email,\n                            user_level, \n                            birthday,\n                            gender,\n                            create_time,\n                            operate_time\n                          from user_info \n                          where (DATE_FORMAT(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("' \n                          or DATE_FORMAT(operate_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("')\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_detail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data order_detail "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select \n                              id,\n                              order_id, \n                              sku_id,\n                              sku_name,\n                              order_price,\n                              sku_num, \n                              create_time,\n                              source_type,\n                              source_id,\n                              split_total_amount,\n                              split_activity_amount,\n                              split_coupon_amount\n                            from order_detail \n                            where DATE_FORMAT(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_payment_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"payment_info"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select \n                                id,  \n                                out_trade_no, \n                                order_id, \n                                user_id, \n                                payment_type, \n                                trade_no, \n                                total_amount,  \n                                subject, \n                                payment_status,\n                                create_time,\n                                callback_time \n                              from payment_info \n                              where (DATE_FORMAT(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("' \n                              or DATE_FORMAT(callback_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("')\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_comment_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data comment_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                              id,\n                              user_id,\n                              sku_id,\n                              spu_id,\n                              order_id,\n                              appraise,\n                              create_time\n                            from comment_info\n                            where date_format(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_refund_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data order_refund_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                                id,\n                                user_id,\n                                order_id,\n                                sku_id,\n                                refund_type,\n                                refund_num,\n                                refund_amount,\n                                refund_reason_type,\n                                refund_status,\n                                create_time\n                              from order_refund_info\n                              where date_format(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_sku_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data sku_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select \n                          id,\n                          spu_id,\n                          price,\n                          sku_name,\n                          sku_desc,\n                          weight,\n                          tm_id,\n                          category3_id,\n                          is_sale,\n                          create_time\n                        from sku_info where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_category1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select \n                                  id,\n                                  name \n                                from base_category1 where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_category2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category2"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                  id,\n                                  name,\n                                  category1_id \n                                from base_category2 where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_category3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category3"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                  id,\n                                  name,\n                                  category2_id\n                                from base_category3 where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_province")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data base_province "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                              id,\n                              name,\n                              region_id,\n                              area_code,\n                              iso_code,\n                              iso_3166_2\n                            from base_province\n                            where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_region")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data base_region "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                              id,\n                              region_name\n                            from base_region\n                            where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_trademark")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data base_trademark "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                id,\n                                tm_name\n                              from base_trademark\n                              where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_spu_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data spu_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                            id,\n                            spu_name,\n                            category3_id,\n                            tm_id\n                          from spu_info\n                          where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_favor_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data favor_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                          id,\n                          user_id,\n                          sku_id,\n                          spu_id,\n                          is_cancel,\n                          create_time,\n                          cancel_time\n                        from favor_info\n                        where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_cart_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data cart_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                        id,\n                        user_id,\n                        sku_id,\n                        cart_price,\n                        sku_num,\n                        sku_name,\n                        create_time,\n                        operate_time,\n                        is_ordered,\n                        order_time,\n                        source_type,\n                        source_id\n                      from cart_info\n                      where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_coupon_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data coupon_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                          id,\n                          coupon_name,\n                          coupon_type,\n                          condition_amount,\n                          condition_num,\n                          activity_id,\n                          benefit_amount,\n                          benefit_discount,\n                          create_time,\n                          range_type,\n                          limit_num,\n                          taken_count,\n                          start_time,\n                          end_time,\n                          operate_time,\n                          expire_time\n                        from coupon_info\n                        where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_activity_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  import_data activity_info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                              id,\n                              activity_name,\n                              activity_type,\n                              start_time,\n                              end_time,\n                              create_time\n                            from activity_info\n                            where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_activity_rule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data activity_rule "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                    id,\n                                    activity_id,\n                                    activity_type,\n                                    condition_amount,\n                                    condition_num,\n                                    benefit_amount,\n                                    benefit_discount,\n                                    benefit_level\n                                from activity_rule\n                                where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_base_dic")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data base_dic "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                            dic_code,\n                            dic_name,\n                            parent_code,\n                            create_time,\n                            operate_time\n                          from base_dic\n                          where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_detail_activity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data order_detail_activity "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                                                                id,\n                                                                order_id,\n                                                                order_detail_id,\n                                                                activity_id,\n                                                                activity_rule_id,\n                                                                sku_id,\n                                                                create_time\n                                                            from order_detail_activity\n                                                            where date_format(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_order_detail_coupon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data order_detail_coupon "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                                                                id,\n\t\t\t\t\t\t\t\t                                                order_id,\n                                                                order_detail_id,\n                                                                coupon_id,\n                                                                coupon_use_id,\n                                                                sku_id,\n                                                                create_time\n                                                            from order_detail_coupon\n                                                            where date_format(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("'\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_refund_payment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data refund_payment "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"select\n                                                        id,\n                                                        out_trade_no,\n                                                        order_id,\n                                                        sku_id,\n                                                        payment_type,\n                                                        trade_no,\n                                                        total_amount,\n                                                        subject,\n                                                        refund_status,\n                                                        create_time,\n                                                        callback_time\n                                                    from refund_payment\n                                                    where (DATE_FORMAT(create_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("' \n                                                    or DATE_FORMAT(callback_time,'%Y-%m-%d')='"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$do_date")]),s._v("')\"")]),s._v("                                                    \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_sku_attr_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data sku_attr_value "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                                    id,\n                                                    attr_id,\n                                                    value_id,\n                                                    sku_id,\n                                                    attr_name,\n                                                    value_name\n                                                from sku_attr_value\n                                                where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("import_sku_sale_attr_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    import_data sku_sale_attr_value "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select\n                                                            id,\n                                                            sku_id,\n                                                            spu_id,\n                                                            sale_attr_value_id,\n                                                            sale_attr_id,\n                                                            sale_attr_name,\n                                                            sale_attr_value_name\n                                                        from sku_sale_attr_value\n                                                        where 1=1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_order_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_base_category1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_base_category2\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_category3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_base_category3\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_detail"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_order_detail\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sku_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_sku_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_user_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"payment_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_payment_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_province"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     import_base_province\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"activity_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_activity_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cart_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_cart_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"comment_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_comment_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"coupon_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_coupon_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"coupon_use"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_coupon_use\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"favor_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_favor_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_refund_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_order_refund_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_status_log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_order_status_log\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spu_info"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_spu_info\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"activity_rule"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_activity_rule\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"base_dic"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_base_dic\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_detail_activity"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_order_detail_activity\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_detail_coupon"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_order_detail_coupon\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"refund_payment"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_refund_payment\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sku_attr_value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_sku_attr_value\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sku_sale_attr_value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      import_sku_sale_attr_value\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   import_base_category1\n   import_base_category2\n   import_base_category3\n   import_order_info\n   import_order_detail\n   import_sku_info\n   import_user_info\n   import_payment_info\n   import_base_trademark\n   import_activity_info\n   import_cart_info\n   import_comment_info\n   import_coupon_use\n   import_coupon_info\n   import_favor_info\n   import_order_refund_info\n   import_order_status_log\n   import_spu_info\n   import_activity_rule\n   import_base_dic\n   import_order_detail_activity\n   import_order_detail_coupon\n   import_refund_payment\n   import_sku_attr_value\n   import_sku_sale_attr_value\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br"),a("span",{staticClass:"line-number"},[s._v("249")]),a("br"),a("span",{staticClass:"line-number"},[s._v("250")]),a("br"),a("span",{staticClass:"line-number"},[s._v("251")]),a("br"),a("span",{staticClass:"line-number"},[s._v("252")]),a("br"),a("span",{staticClass:"line-number"},[s._v("253")]),a("br"),a("span",{staticClass:"line-number"},[s._v("254")]),a("br"),a("span",{staticClass:"line-number"},[s._v("255")]),a("br"),a("span",{staticClass:"line-number"},[s._v("256")]),a("br"),a("span",{staticClass:"line-number"},[s._v("257")]),a("br"),a("span",{staticClass:"line-number"},[s._v("258")]),a("br"),a("span",{staticClass:"line-number"},[s._v("259")]),a("br"),a("span",{staticClass:"line-number"},[s._v("260")]),a("br"),a("span",{staticClass:"line-number"},[s._v("261")]),a("br"),a("span",{staticClass:"line-number"},[s._v("262")]),a("br"),a("span",{staticClass:"line-number"},[s._v("263")]),a("br"),a("span",{staticClass:"line-number"},[s._v("264")]),a("br"),a("span",{staticClass:"line-number"},[s._v("265")]),a("br"),a("span",{staticClass:"line-number"},[s._v("266")]),a("br"),a("span",{staticClass:"line-number"},[s._v("267")]),a("br"),a("span",{staticClass:"line-number"},[s._v("268")]),a("br"),a("span",{staticClass:"line-number"},[s._v("269")]),a("br"),a("span",{staticClass:"line-number"},[s._v("270")]),a("br"),a("span",{staticClass:"line-number"},[s._v("271")]),a("br"),a("span",{staticClass:"line-number"},[s._v("272")]),a("br"),a("span",{staticClass:"line-number"},[s._v("273")]),a("br"),a("span",{staticClass:"line-number"},[s._v("274")]),a("br"),a("span",{staticClass:"line-number"},[s._v("275")]),a("br"),a("span",{staticClass:"line-number"},[s._v("276")]),a("br"),a("span",{staticClass:"line-number"},[s._v("277")]),a("br"),a("span",{staticClass:"line-number"},[s._v("278")]),a("br"),a("span",{staticClass:"line-number"},[s._v("279")]),a("br"),a("span",{staticClass:"line-number"},[s._v("280")]),a("br"),a("span",{staticClass:"line-number"},[s._v("281")]),a("br"),a("span",{staticClass:"line-number"},[s._v("282")]),a("br"),a("span",{staticClass:"line-number"},[s._v("283")]),a("br"),a("span",{staticClass:"line-number"},[s._v("284")]),a("br"),a("span",{staticClass:"line-number"},[s._v("285")]),a("br"),a("span",{staticClass:"line-number"},[s._v("286")]),a("br"),a("span",{staticClass:"line-number"},[s._v("287")]),a("br"),a("span",{staticClass:"line-number"},[s._v("288")]),a("br"),a("span",{staticClass:"line-number"},[s._v("289")]),a("br"),a("span",{staticClass:"line-number"},[s._v("290")]),a("br"),a("span",{staticClass:"line-number"},[s._v("291")]),a("br"),a("span",{staticClass:"line-number"},[s._v("292")]),a("br"),a("span",{staticClass:"line-number"},[s._v("293")]),a("br"),a("span",{staticClass:"line-number"},[s._v("294")]),a("br"),a("span",{staticClass:"line-number"},[s._v("295")]),a("br"),a("span",{staticClass:"line-number"},[s._v("296")]),a("br"),a("span",{staticClass:"line-number"},[s._v("297")]),a("br"),a("span",{staticClass:"line-number"},[s._v("298")]),a("br"),a("span",{staticClass:"line-number"},[s._v("299")]),a("br"),a("span",{staticClass:"line-number"},[s._v("300")]),a("br"),a("span",{staticClass:"line-number"},[s._v("301")]),a("br"),a("span",{staticClass:"line-number"},[s._v("302")]),a("br"),a("span",{staticClass:"line-number"},[s._v("303")]),a("br"),a("span",{staticClass:"line-number"},[s._v("304")]),a("br"),a("span",{staticClass:"line-number"},[s._v("305")]),a("br"),a("span",{staticClass:"line-number"},[s._v("306")]),a("br"),a("span",{staticClass:"line-number"},[s._v("307")]),a("br"),a("span",{staticClass:"line-number"},[s._v("308")]),a("br"),a("span",{staticClass:"line-number"},[s._v("309")]),a("br"),a("span",{staticClass:"line-number"},[s._v("310")]),a("br"),a("span",{staticClass:"line-number"},[s._v("311")]),a("br"),a("span",{staticClass:"line-number"},[s._v("312")]),a("br"),a("span",{staticClass:"line-number"},[s._v("313")]),a("br"),a("span",{staticClass:"line-number"},[s._v("314")]),a("br"),a("span",{staticClass:"line-number"},[s._v("315")]),a("br"),a("span",{staticClass:"line-number"},[s._v("316")]),a("br"),a("span",{staticClass:"line-number"},[s._v("317")]),a("br"),a("span",{staticClass:"line-number"},[s._v("318")]),a("br"),a("span",{staticClass:"line-number"},[s._v("319")]),a("br"),a("span",{staticClass:"line-number"},[s._v("320")]),a("br"),a("span",{staticClass:"line-number"},[s._v("321")]),a("br"),a("span",{staticClass:"line-number"},[s._v("322")]),a("br"),a("span",{staticClass:"line-number"},[s._v("323")]),a("br"),a("span",{staticClass:"line-number"},[s._v("324")]),a("br"),a("span",{staticClass:"line-number"},[s._v("325")]),a("br"),a("span",{staticClass:"line-number"},[s._v("326")]),a("br"),a("span",{staticClass:"line-number"},[s._v("327")]),a("br"),a("span",{staticClass:"line-number"},[s._v("328")]),a("br"),a("span",{staticClass:"line-number"},[s._v("329")]),a("br"),a("span",{staticClass:"line-number"},[s._v("330")]),a("br"),a("span",{staticClass:"line-number"},[s._v("331")]),a("br"),a("span",{staticClass:"line-number"},[s._v("332")]),a("br"),a("span",{staticClass:"line-number"},[s._v("333")]),a("br"),a("span",{staticClass:"line-number"},[s._v("334")]),a("br"),a("span",{staticClass:"line-number"},[s._v("335")]),a("br"),a("span",{staticClass:"line-number"},[s._v("336")]),a("br"),a("span",{staticClass:"line-number"},[s._v("337")]),a("br"),a("span",{staticClass:"line-number"},[s._v("338")]),a("br"),a("span",{staticClass:"line-number"},[s._v("339")]),a("br"),a("span",{staticClass:"line-number"},[s._v("340")]),a("br"),a("span",{staticClass:"line-number"},[s._v("341")]),a("br"),a("span",{staticClass:"line-number"},[s._v("342")]),a("br"),a("span",{staticClass:"line-number"},[s._v("343")]),a("br"),a("span",{staticClass:"line-number"},[s._v("344")]),a("br"),a("span",{staticClass:"line-number"},[s._v("345")]),a("br"),a("span",{staticClass:"line-number"},[s._v("346")]),a("br"),a("span",{staticClass:"line-number"},[s._v("347")]),a("br"),a("span",{staticClass:"line-number"},[s._v("348")]),a("br"),a("span",{staticClass:"line-number"},[s._v("349")]),a("br"),a("span",{staticClass:"line-number"},[s._v("350")]),a("br"),a("span",{staticClass:"line-number"},[s._v("351")]),a("br"),a("span",{staticClass:"line-number"},[s._v("352")]),a("br"),a("span",{staticClass:"line-number"},[s._v("353")]),a("br"),a("span",{staticClass:"line-number"},[s._v("354")]),a("br"),a("span",{staticClass:"line-number"},[s._v("355")]),a("br"),a("span",{staticClass:"line-number"},[s._v("356")]),a("br"),a("span",{staticClass:"line-number"},[s._v("357")]),a("br"),a("span",{staticClass:"line-number"},[s._v("358")]),a("br"),a("span",{staticClass:"line-number"},[s._v("359")]),a("br"),a("span",{staticClass:"line-number"},[s._v("360")]),a("br"),a("span",{staticClass:"line-number"},[s._v("361")]),a("br"),a("span",{staticClass:"line-number"},[s._v("362")]),a("br"),a("span",{staticClass:"line-number"},[s._v("363")]),a("br"),a("span",{staticClass:"line-number"},[s._v("364")]),a("br"),a("span",{staticClass:"line-number"},[s._v("365")]),a("br"),a("span",{staticClass:"line-number"},[s._v("366")]),a("br"),a("span",{staticClass:"line-number"},[s._v("367")]),a("br"),a("span",{staticClass:"line-number"},[s._v("368")]),a("br"),a("span",{staticClass:"line-number"},[s._v("369")]),a("br"),a("span",{staticClass:"line-number"},[s._v("370")]),a("br"),a("span",{staticClass:"line-number"},[s._v("371")]),a("br"),a("span",{staticClass:"line-number"},[s._v("372")]),a("br"),a("span",{staticClass:"line-number"},[s._v("373")]),a("br"),a("span",{staticClass:"line-number"},[s._v("374")]),a("br"),a("span",{staticClass:"line-number"},[s._v("375")]),a("br"),a("span",{staticClass:"line-number"},[s._v("376")]),a("br"),a("span",{staticClass:"line-number"},[s._v("377")]),a("br"),a("span",{staticClass:"line-number"},[s._v("378")]),a("br"),a("span",{staticClass:"line-number"},[s._v("379")]),a("br"),a("span",{staticClass:"line-number"},[s._v("380")]),a("br"),a("span",{staticClass:"line-number"},[s._v("381")]),a("br"),a("span",{staticClass:"line-number"},[s._v("382")]),a("br"),a("span",{staticClass:"line-number"},[s._v("383")]),a("br"),a("span",{staticClass:"line-number"},[s._v("384")]),a("br"),a("span",{staticClass:"line-number"},[s._v("385")]),a("br"),a("span",{staticClass:"line-number"},[s._v("386")]),a("br"),a("span",{staticClass:"line-number"},[s._v("387")]),a("br"),a("span",{staticClass:"line-number"},[s._v("388")]),a("br"),a("span",{staticClass:"line-number"},[s._v("389")]),a("br"),a("span",{staticClass:"line-number"},[s._v("390")]),a("br"),a("span",{staticClass:"line-number"},[s._v("391")]),a("br"),a("span",{staticClass:"line-number"},[s._v("392")]),a("br"),a("span",{staticClass:"line-number"},[s._v("393")]),a("br"),a("span",{staticClass:"line-number"},[s._v("394")]),a("br"),a("span",{staticClass:"line-number"},[s._v("395")]),a("br"),a("span",{staticClass:"line-number"},[s._v("396")]),a("br"),a("span",{staticClass:"line-number"},[s._v("397")]),a("br"),a("span",{staticClass:"line-number"},[s._v("398")]),a("br"),a("span",{staticClass:"line-number"},[s._v("399")]),a("br"),a("span",{staticClass:"line-number"},[s._v("400")]),a("br"),a("span",{staticClass:"line-number"},[s._v("401")]),a("br"),a("span",{staticClass:"line-number"},[s._v("402")]),a("br"),a("span",{staticClass:"line-number"},[s._v("403")]),a("br"),a("span",{staticClass:"line-number"},[s._v("404")]),a("br"),a("span",{staticClass:"line-number"},[s._v("405")]),a("br"),a("span",{staticClass:"line-number"},[s._v("406")]),a("br"),a("span",{staticClass:"line-number"},[s._v("407")]),a("br"),a("span",{staticClass:"line-number"},[s._v("408")]),a("br"),a("span",{staticClass:"line-number"},[s._v("409")]),a("br"),a("span",{staticClass:"line-number"},[s._v("410")]),a("br"),a("span",{staticClass:"line-number"},[s._v("411")]),a("br"),a("span",{staticClass:"line-number"},[s._v("412")]),a("br"),a("span",{staticClass:"line-number"},[s._v("413")]),a("br"),a("span",{staticClass:"line-number"},[s._v("414")]),a("br"),a("span",{staticClass:"line-number"},[s._v("415")]),a("br"),a("span",{staticClass:"line-number"},[s._v("416")]),a("br"),a("span",{staticClass:"line-number"},[s._v("417")]),a("br"),a("span",{staticClass:"line-number"},[s._v("418")]),a("br"),a("span",{staticClass:"line-number"},[s._v("419")]),a("br"),a("span",{staticClass:"line-number"},[s._v("420")]),a("br"),a("span",{staticClass:"line-number"},[s._v("421")]),a("br"),a("span",{staticClass:"line-number"},[s._v("422")]),a("br"),a("span",{staticClass:"line-number"},[s._v("423")]),a("br"),a("span",{staticClass:"line-number"},[s._v("424")]),a("br"),a("span",{staticClass:"line-number"},[s._v("425")]),a("br"),a("span",{staticClass:"line-number"},[s._v("426")]),a("br"),a("span",{staticClass:"line-number"},[s._v("427")]),a("br"),a("span",{staticClass:"line-number"},[s._v("428")]),a("br"),a("span",{staticClass:"line-number"},[s._v("429")]),a("br"),a("span",{staticClass:"line-number"},[s._v("430")]),a("br"),a("span",{staticClass:"line-number"},[s._v("431")]),a("br"),a("span",{staticClass:"line-number"},[s._v("432")]),a("br"),a("span",{staticClass:"line-number"},[s._v("433")]),a("br"),a("span",{staticClass:"line-number"},[s._v("434")]),a("br"),a("span",{staticClass:"line-number"},[s._v("435")]),a("br"),a("span",{staticClass:"line-number"},[s._v("436")]),a("br"),a("span",{staticClass:"line-number"},[s._v("437")]),a("br"),a("span",{staticClass:"line-number"},[s._v("438")]),a("br"),a("span",{staticClass:"line-number"},[s._v("439")]),a("br"),a("span",{staticClass:"line-number"},[s._v("440")]),a("br"),a("span",{staticClass:"line-number"},[s._v("441")]),a("br"),a("span",{staticClass:"line-number"},[s._v("442")]),a("br"),a("span",{staticClass:"line-number"},[s._v("443")]),a("br"),a("span",{staticClass:"line-number"},[s._v("444")]),a("br"),a("span",{staticClass:"line-number"},[s._v("445")]),a("br"),a("span",{staticClass:"line-number"},[s._v("446")]),a("br"),a("span",{staticClass:"line-number"},[s._v("447")]),a("br"),a("span",{staticClass:"line-number"},[s._v("448")]),a("br"),a("span",{staticClass:"line-number"},[s._v("449")]),a("br"),a("span",{staticClass:"line-number"},[s._v("450")]),a("br"),a("span",{staticClass:"line-number"},[s._v("451")]),a("br"),a("span",{staticClass:"line-number"},[s._v("452")]),a("br"),a("span",{staticClass:"line-number"},[s._v("453")]),a("br"),a("span",{staticClass:"line-number"},[s._v("454")]),a("br"),a("span",{staticClass:"line-number"},[s._v("455")]),a("br"),a("span",{staticClass:"line-number"},[s._v("456")]),a("br"),a("span",{staticClass:"line-number"},[s._v("457")]),a("br"),a("span",{staticClass:"line-number"},[s._v("458")]),a("br"),a("span",{staticClass:"line-number"},[s._v("459")]),a("br"),a("span",{staticClass:"line-number"},[s._v("460")]),a("br"),a("span",{staticClass:"line-number"},[s._v("461")]),a("br"),a("span",{staticClass:"line-number"},[s._v("462")]),a("br"),a("span",{staticClass:"line-number"},[s._v("463")]),a("br"),a("span",{staticClass:"line-number"},[s._v("464")]),a("br"),a("span",{staticClass:"line-number"},[s._v("465")]),a("br"),a("span",{staticClass:"line-number"},[s._v("466")]),a("br"),a("span",{staticClass:"line-number"},[s._v("467")]),a("br"),a("span",{staticClass:"line-number"},[s._v("468")]),a("br"),a("span",{staticClass:"line-number"},[s._v("469")]),a("br"),a("span",{staticClass:"line-number"},[s._v("470")]),a("br"),a("span",{staticClass:"line-number"},[s._v("471")]),a("br"),a("span",{staticClass:"line-number"},[s._v("472")]),a("br"),a("span",{staticClass:"line-number"},[s._v("473")]),a("br"),a("span",{staticClass:"line-number"},[s._v("474")]),a("br"),a("span",{staticClass:"line-number"},[s._v("475")]),a("br"),a("span",{staticClass:"line-number"},[s._v("476")]),a("br"),a("span",{staticClass:"line-number"},[s._v("477")]),a("br"),a("span",{staticClass:"line-number"},[s._v("478")]),a("br"),a("span",{staticClass:"line-number"},[s._v("479")]),a("br"),a("span",{staticClass:"line-number"},[s._v("480")]),a("br"),a("span",{staticClass:"line-number"},[s._v("481")]),a("br"),a("span",{staticClass:"line-number"},[s._v("482")]),a("br"),a("span",{staticClass:"line-number"},[s._v("483")]),a("br"),a("span",{staticClass:"line-number"},[s._v("484")]),a("br"),a("span",{staticClass:"line-number"},[s._v("485")]),a("br"),a("span",{staticClass:"line-number"},[s._v("486")]),a("br"),a("span",{staticClass:"line-number"},[s._v("487")]),a("br"),a("span",{staticClass:"line-number"},[s._v("488")]),a("br"),a("span",{staticClass:"line-number"},[s._v("489")]),a("br"),a("span",{staticClass:"line-number"},[s._v("490")]),a("br"),a("span",{staticClass:"line-number"},[s._v("491")]),a("br"),a("span",{staticClass:"line-number"},[s._v("492")]),a("br"),a("span",{staticClass:"line-number"},[s._v("493")]),a("br"),a("span",{staticClass:"line-number"},[s._v("494")]),a("br"),a("span",{staticClass:"line-number"},[s._v("495")]),a("br"),a("span",{staticClass:"line-number"},[s._v("496")]),a("br"),a("span",{staticClass:"line-number"},[s._v("497")]),a("br"),a("span",{staticClass:"line-number"},[s._v("498")]),a("br"),a("span",{staticClass:"line-number"},[s._v("499")]),a("br"),a("span",{staticClass:"line-number"},[s._v("500")]),a("br"),a("span",{staticClass:"line-number"},[s._v("501")]),a("br"),a("span",{staticClass:"line-number"},[s._v("502")]),a("br"),a("span",{staticClass:"line-number"},[s._v("503")]),a("br"),a("span",{staticClass:"line-number"},[s._v("504")]),a("br"),a("span",{staticClass:"line-number"},[s._v("505")]),a("br"),a("span",{staticClass:"line-number"},[s._v("506")]),a("br"),a("span",{staticClass:"line-number"},[s._v("507")]),a("br"),a("span",{staticClass:"line-number"},[s._v("508")]),a("br")])]),a("h2",{attrs:{id:"数仓分层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数仓分层"}},[s._v("#")]),s._v(" 数仓分层")]),s._v(" "),a("blockquote",[a("p",[s._v("ODS(原)=>  (DWD(细)=>DWS(汇)=>DWT(题))(DIM 维度)=>ADS(应)")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("ODS：存放加载"),a("strong",[s._v("原始数据")]),s._v("，不做处理")])]),s._v(" "),a("li",[a("p",[s._v("DWD: 对ODS的数据进行"),a("strong",[s._v("清洗")]),s._v("(去除空值，过滤脏数据，超出范围的数据，脱敏)等  "),a("strong",[s._v("一行一次行为")])])]),s._v(" "),a("li",[a("p",[s._v("DIM:维度数据，对业务的描述信息，何人，何时、何地等，")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("DWS")]),s._v(" 对DWD按"),a("strong",[s._v("每天")]),s._v("，进行轻度汇总。 "),a("strong",[s._v("一行一天的行为")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("DWT")]),s._v("  :对DWS按数据"),a("strong",[s._v("累加")]),s._v("汇总   "),a("strong",[s._v("一行一个对象的行为累积行为")]),s._v("       :最近n天")])])])]),s._v(" "),a("li",[a("p",[s._v("ADS: 为各种"),a("strong",[s._v("统计报表")]),s._v("提供数据")])])]),s._v(" "),a("p",[a("strong",[s._v("分层的意义")])]),s._v(" "),a("ul",[a("li",[s._v("把复杂问题简单化")]),s._v(" "),a("li",[s._v("减少重复开发")]),s._v(" "),a("li",[s._v("隔离原始数据")])]),s._v(" "),a("p",[a("strong",[s._v("数仓和数集的区别")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("数仓：为整个企业部门提供决策")])]),s._v(" "),a("li",[a("p",[s._v("数据集市：部门级，微型数据仓库")]),s._v(" "),a("blockquote",[a("p",[s._v("独立形：(数据来自业务)")]),s._v(" "),a("p",[s._v("从属形：(数据来自数据仓库)")])])])]),s._v(" "),a("p",[a("strong",[s._v("数仓命名规范")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("表命名")]),s._v("：对应层级的表加上其前缀，例如特殊表 temp_ 前缀命名，DWT层用 dwt_命名")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("脚本命名")]),s._v("：数据源_to_目标_db/log.sh  ： "),a("strong",[s._v("行为以log为后缀")]),s._v("，"),a("strong",[s._v("业务以db为后缀")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("表字段")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[s._v("数量 bigint、金额decimal(16,2)   16位，2位小数")]),s._v(" "),a("p",[s._v("字符串：(名字，描述)、主键外键")]),s._v(" "),a("p",[s._v("时间戳：bigint")])])])]),s._v(" "),a("p",[a("strong",[s._v("数仓理论")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("关系建模")]),s._v("  (业务系统)")]),s._v(" "),a("blockquote",[a("p",[s._v("范式：降低数据的庸余性，保证数据的一致性")]),s._v(" "),a("ul",[a("li",[s._v("拆分多，jion多")]),s._v(" "),a("li",[a("strong",[s._v("1范式=>2范式=>3范式")]),s._v("=>4范式=>5范式")])]),s._v(" "),a("blockquote",[a("p",[s._v("属性"),a("strong",[s._v("不可切")]),s._v("=>不存在非主键部分依赖")])]),s._v(" "),a("p",[s._v("函数依赖：完全(直接)、部分(间接)、传递(联系)")]),s._v(" "),a("p",[a("strong",[s._v("表多")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("维度建模")]),s._v(" (普遍，重点学习)")]),s._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[a("strong",[s._v("事实表")]),s._v("(具体的业务)")]),s._v(" "),a("blockquote",[a("p",[s._v("非常大，内容相对窄，列数少，经常发生变化")]),s._v(" "),a("p",[s._v("每行代表一个业务事件（下单支付等）")]),s._v(" "),a("p",[a("strong",[s._v("分类")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("事务型")]),s._v(" ：每个事件为单位，不发生变化,"),a("strong",[s._v("增量同步")])]),s._v(" "),a("li",[a("strong",[s._v("周期型快照")]),s._v("：保存固定时间间隔的数据   "),a("strong",[s._v("只关心结果")]),s._v("，"),a("strong",[s._v("全量同步")])]),s._v(" "),a("li",[a("strong",[s._v("累积型快照")]),s._v("：跟踪业务事实变化，会发生周期性变化的业务，"),a("strong",[s._v("新增+变化")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("维度表")]),s._v("(业务的描述信息)")]),s._v(" "),a("blockquote",[a("p",[s._v("表宽，行数相对较小，内容相对固定（编码表）")]),s._v(" "),a("p",[s._v("例：地区等")]),s._v(" "),a("p",[a("strong",[s._v("分类")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("星型模型")]),s._v("："),a("strong",[s._v("性能优先")])])]),s._v(" "),a("li",[a("p",[s._v("雪花模型："),a("strong",[s._v("灵活优先")])]),s._v(" "),a("blockquote",[a("p",[s._v("(会对维度表进行规范化)")])])]),s._v(" "),a("li",[a("p",[s._v("星座模型（多个星型模型交着在一起）")])])])])])]),s._v(" "),a("p",[a("strong",[s._v("查询")]),s._v("简单"),a("strong",[s._v("效率高")])])])])]),s._v(" "),a("h3",{attrs:{id:"仓库建模"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仓库建模"}},[s._v("#")]),s._v(" 仓库建模")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("ODS层")])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("用户行为：创建外部表一行字段代表一个用户行为，对时间分区，定时装载")]),s._v(" "),a("li",[s._v("业务行为")])]),s._v(" "),a("p",[s._v("主要对比采集的数据进行建表")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("DIM层和DWD层")])]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("星型模型")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("DIM: 存储维度表")])]),s._v(" "),a("li",[a("p",[s._v("DWD: 存储事实表 ("),a("strong",[s._v("以业务过程为驱动")]),s._v(")")])])]),s._v(" "),a("p",[s._v("选择业务过程=>声明粒度=>确认维度=>确认事实")]),s._v(" "),a("p",[s._v("DWS、DWT、ADS"),a("strong",[s._v("以需求为驱动")])])]),s._v(" "),a("p",[s._v("从DIM层开始主要列式存储+lzo压缩，装载从ods层查询拼接加载")]),s._v(" "),a("p",[a("strong",[s._v("读取的表是单纯lzo文件并且创建了索引")]),s._v("，此时需要关闭map端的小文件合并")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("set hive.input.format=org.apache.hadoop.hive.ql.io.HiveInputFormat;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("通常时间维度表不来自业务系统，如果是格式问题，可以先创建临时表，再insert+select插入")]),s._v(" "),a("p",[a("strong",[s._v("拉链表")]),s._v("：更加高效的存储历史状态")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("使用场景：全量最新、全量历史")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("生效开始")]),s._v(" 日期<=某个日期 且   "),a("strong",[s._v("生效结束")]),s._v(" 日期>=某个日期：得到全量切片  ："),a("strong",[s._v("全量历史")])]),s._v(" "),a("p",[s._v("过滤最新："),a("strong",[s._v("全量最新")])])])])]),s._v(" "),a("p",[a("strong",[s._v("get_json_object 解析json")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select get_json_object('jison','$[下标取元素]')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("分析数据按行列分析  自定义hive函数")]),s._v(" "),a("p",[a("strong",[s._v("DWS：避免重复计算，保存计算结果")])]),s._v(" "),a("p",[a("strong",[s._v("常用计算处理函数")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("nvl :"),a("code",[s._v("NVL（表达式1，表达式2）")]),s._v("  同一类型   1")]),s._v(" "),a("blockquote",[a("p",[s._v("coalesce(3)、if(2)")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("日期处理函数")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式化\ndate_format('2020-06-14','yyyy-MM');\n加减\ndate_add('2020-06-14',-1);\n下一天\nnext_day('2020-06-14','MO');//下周一：（Monday，Tuesday、Wednesday、Thursday、Friday、Saturday、Sunday）\ndate_add(next_day('2020-06-14','MO'),-7);//当前周一\n当月最后一天日期\nlast_day('2020-06-14');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("复杂数据类型定义")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("map<string,string> :map(key,value) :取值  map['key']\narray<string>: array(val1,val2..)  ：取值 map['下标']\nstruct<id:int,name:string,age:int> :named_stuct(name1,val1,....) :取值 strict.name1\n//struct和array嵌套定义\narray<struct<id:int,name:string,age:int>>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("例：统计 "),a("strong",[s._v("count(*)")]),s._v(" or "),a("strong",[s._v("sum(if(条件,1,0)）)")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("ADS层报表应用层")])]),s._v(" "),a("blockquote",[a("p",[s._v("每个需求对应一张表，每张表有可能有多个指标")]),s._v(" "),a("p",[s._v("例：访客、用户、商品、订单、优惠卷、活动等")]),s._v(" "),a("p",[s._v("1，7，30日的统计")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 例如 1 7 30 下单和购买次数\nselect\n\tid\n\trecent_days,\n\tcase\n\t\twhen recent_days=1 then order_1count,\n\t\twhen recent_days=7 then order_7count,\n\t\twhen recent_days=30 then order_30count,\n\tend  别名 -- 下单次数\n\tcase\n\t\twhen recent_days=1 then pay_1count,\n\t\twhen recent_days=7 then pay_7count,\n\t\twhen recent_days=30 then pay_30count,\n\tend  别名 -- 购买次数\t\nfrom 表名 lateral view explode(array(1,7,30)) tmp as recent_days  -- 把1，7，30炸开成一列创建临时视图\nwhere dt='2020-06-14' --今天的日期\n\n--然后再获取维度信息关联即可，获取人数可以sum(if)or count()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])])])]),s._v(" "),a("blockquote",[a("p",[s._v("hive 分区表指定外面字段(虚拟优化)，分桶表里面字段(真实)")]),s._v(" "),a("p",[a("strong",[s._v("if")]),s._v(" 函数 和 "),a("strong",[s._v("nvl")]),s._v(" 函数  动态分区")]),s._v(" "),a("p",[a("strong",[s._v("concat()")]),s._v(" 拼接值。")]),s._v(" "),a("p",[a("code",[s._v("jps -ml")]),s._v(" 查看详细进程信息")])]),s._v(" "),a("h3",{attrs:{id:"调度流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调度流程"}},[s._v("#")]),s._v(" 调度流程")]),s._v(" "),a("p",[a("strong",[s._v("AZKABAN")])]),s._v(" "),a("blockquote",[a("p",[s._v("把之前的装载sql封装成一个个可接收参数脚本，用Azkaban，来调度")])]),s._v(" "),a("blockquote",[a("p",[s._v("最终ads报表数据用sqoop导入mysql中")]),s._v(" "),a("p",[s._v("画出依赖流程图，按照流程图编写依赖参数，如果动态传参进来，需要在执行azkaban时配置参数即可。")]),s._v(" "),a("p",[s._v("如果是每日定时也许传参但不传值即可。")]),s._v(" "),a("p",[s._v("如果脚本和环境没有分发需要指定运行的节点："),a("code",[s._v("useExecutor")]),s._v("  id需要在数据库查看")])]),s._v(" "),a("h2",{attrs:{id:"数据报表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据报表"}},[s._v("#")]),s._v(" 数据报表")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("后台语言+报表框架")])]),s._v(" "),a("li",[a("p",[s._v("现成的报表工具")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("收费")])]),s._v(" "),a("li",[a("p",[s._v("开源 ：superset")]),s._v(" "),a("blockquote",[a("p",[s._v("安装部署superset")]),s._v(" "),a("p",[s._v("了解对接数据源的方式")]),s._v(" "),a("p",[s._v("了解基本使用方法。")])])])])])]),s._v(" "),a("h2",{attrs:{id:"即席查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#即席查询"}},[s._v("#")]),s._v(" 即席查询")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("可自定义查询条件")]),s._v("，然后统计报表")]),s._v(" "),a("p",[s._v("是一个探索数据的过程，实现交互式效果")]),s._v(" "),a("p",[s._v("多维度洞察数据，把起转换称知识。")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Kylin")]),s._v(" "),a("blockquote",[a("p",[s._v("了解其安装部署，和等维度概念")]),s._v(" "),a("p",[s._v("掌握页面上的基本使用、还有一些优化手段(聚合组、衍生度、Rowkey等)")]),s._v(" "),a("p",[s._v("与BI工具的集成："),a("strong",[s._v("Zepplin")]),s._v("（"),a("strong",[s._v("笔记本")]),s._v("，可"),a("strong",[s._v("写sql查询")]),s._v("和"),a("strong",[s._v("简单的报表")]),s._v("）")]),s._v(" "),a("p",[a("strong",[s._v("BI工具")]),s._v("：对接数据源，写SQL、报表。")])])]),s._v(" "),a("li",[a("p",[s._v("Presto")]),s._v(" "),a("blockquote",[a("p",[s._v("了解起按照和部署、和优化手段")])])]),s._v(" "),a("li",[a("p",[s._v("德鲁伊等")])])]),s._v(" "),a("h2",{attrs:{id:"集群监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群监控"}},[s._v("#")]),s._v(" 集群监控")]),s._v(" "),a("p",[s._v("掌握Zabbix的部署和基本使用，模板的和参数配置（主机、监控项、触发器、动作）")]),s._v(" "),a("p",[s._v("以及"),a("strong",[s._v("集成Grafana做可视化展示")]),s._v("，作图。对接数据源，配置，作图即可。")]),s._v(" "),a("h2",{attrs:{id:"数据安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据安全"}},[s._v("#")]),s._v(" 数据安全")]),s._v(" "),a("p",[a("strong",[s._v("认证+授权")])]),s._v(" "),a("p",[a("strong",[s._v("认证")]),s._v("："),a("strong",[s._v("Kerberos")])]),s._v(" "),a("p",[s._v("了解Kerberos安装和基本使用，以及集成hadoop和hive等。")]),s._v(" "),a("h3",{attrs:{id:"安全模式的搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全模式的搭建"}},[s._v("#")]),s._v(" "),a("strong",[s._v("安全模式的搭建")])]),s._v(" "),a("p",[a("strong",[s._v("改动说明")]),s._v("：")]),s._v(" "),a("p",[s._v("此处统一"),a("strong",[s._v("将数仓的全部数据")]),s._v("资源的所有者"),a("strong",[s._v("设为hive用户")]),s._v("，全流程的每步操作均认证为"),a("strong",[s._v("hive用户")]),s._v("。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户准备 （"),a("strong",[s._v("存在可跳过")]),s._v("）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3台   id hive 查看用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" hive -g hadoop\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hive "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --stdin hive\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("为用户创建主体（之前那个创建是不一样的,这需要创建）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建主体")]),s._v("\nkadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addprinc -randkey hive"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成keytab文件")]),s._v("\nkadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xst -k /etc/security/keytab/hive.keytab hive"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改文件所有者和访问权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" hive:hadoop /etc/security/keytab/hive.keytab\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("440")]),s._v(" /etc/security/keytab/hive.keytab\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分发改文件 （指定azkaban允许节点就不用）")]),s._v("\n xsync /etc/security/keytab/hive.keytab\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改数据采集通道")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#用户行为日志 flume=>kafka=>flume(node3)   修改其sink 添加认证即可\n#node3\n vim /opt/module/flume/conf/kafka-flume-hdfs.conf\n \na1.sinks.k1.hdfs.kerberosPrincipal=hive@EXAMPLE.COM\na1.sinks.k1.hdfs.kerberosKeytab=/etc/security/keytab/hive.keytab\n\n#业务脚本\n#node1\nvim /home/hadoop101/bin/mysql_to_hdfs.sh\n在顶部增加如下认证语句 先认证再操作\nkinit -kt /etc/security/keytab/hive.keytab hive\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("各层脚本的修改")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("数仓各层脚本均需在顶部加入如下认证语句\nkinit -kt /etc/security/keytab/hive.keytab hive\n\n例：相对路径 在hadoop101/bin目录下执行\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" hdfs_to_ods_log.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" hdfs_to_ods_db.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" ods_to_dwd_log.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" ods_to_dim_db.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" ods_to_dwd_db.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" dwd_to_dws.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" dws_to_dwt.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" dwt_to_ads.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1 a kinit -kt /etc/security/keytab/hive.keytab hive'")]),s._v(" hdfs_to_mysql.sh\n\n注：表示在第1行 a添加 参数 到 脚本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改hdfs特定路径的所有者")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#认证")]),s._v("\n kinit hdfs/hadoop\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改数据采集目标路径")]),s._v("\n hadoop fs -chown -R hive:hadoop /origin_data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改数仓表所在路径")]),s._v("\n hadoop fs -chown -R hive:hadoop /warehouse\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改hive （相当于home目录）")]),s._v("\n hadoop fs -chown -R hive:hadoop /user/hive \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改spark.eventLog.dir路径")]),s._v("\n hadoop fs -chown -R hive:hadoop /spark-history\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"全流程调度测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全流程调度测试"}},[s._v("#")]),s._v(" "),a("strong",[s._v("全流程调度测试")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("生成数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#启动flume和kafka    \nflume执行脚本采集，生成者消费者，flume消费脚本\n修改日志生成\n#修改业务数据\njava -jar 生成 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启动Azkaban")]),s._v(" "),a("blockquote",[a("p",[s._v("因为azkaban不需要直接和hdfs交互，只负责调用shell脚本(脚本里面有认证语句)，所以不用配置主体。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在各节点创建azkaban用户（3台）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" azkaban -g hadoop\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" azkaban "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --stdin azkaban\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将各节点Azkaban安装路径所有者改为azkaban用户（3台）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R azkaban:hadoop /opt/module/azkaban\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用azkaban用户启动Azkaban")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 启动Executor Server （3台）\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -i -u azkaban "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cd /opt/module/azkaban/azkaban-exec;bin/start-exec.sh"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 激活Executor Server （执行直接在node1执行即可"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://node1:12321/executor?action"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("activate\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://node2:12321/executor?action"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("activate\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://node3:12321/executor?action"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("activate\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 启动web server  端口：8081\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -i -u azkaban "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cd /opt/module/azkaban/azkaban-web;bin/start-web.sh"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 配置修改数仓各层脚本访问权限，确保azkaban用户能够访问到（node1就可以了，如果是随机调度，三台都要设置）\n \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置访问组")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R hadoop101:hadoop /home/hadoop101\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置访问组的权限")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("770")]),s._v(" /home/hadoop101/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("全流程调度")]),s._v("：执行情况：1. 指定节点调度，2.随机调度(需要分发对应的脚本)")]),s._v(" "),a("p",[s._v("配置：参数：dt时间和对应执行节点"),a("strong",[s._v("useExecutor")]),s._v("(在数据库里看id)")])])]),s._v(" "),a("h3",{attrs:{id:"presto配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#presto配置"}},[s._v("#")]),s._v(" Presto配置")]),s._v(" "),a("p",[a("strong",[s._v("改动说明")]),s._v("：")]),s._v(" "),a("p",[s._v("Presto集群开启Kerberos认证可只配置Presto Coordinator和Presto Cli之间进行认证，集群内部通讯可不进行认证。Presto Coordinator和Presto Cli之间的认证要求两者采用更为安全的HTTPS协议进行通讯。")]),s._v(" "),a("p",[s._v("若Presto对接的是Hive数据源，由于其需要访问Hive的元数据和HDFS上的数据文件，故也需要对Hive Connector进行Kerberos认证。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("用户准备")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在所有节点创建presto系统用户（3台）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" presto -g hadoop\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" presto "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --stdin presto\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#为Hive Connector创建Kerberos主体（node1)")]),s._v("\n  kadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addprinc -randkey presto"')]),s._v("\n  kadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xst -k /etc/security/keytab/presto.keytab presto"')]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" presto:hadoop /etc/security/keytab/presto.keytab  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改访问权限")]),s._v("\n  xsync /etc/security/keytab/presto.keytab   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分发")]),s._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#为Presto Coordinator创建Kerberos主体(node1)")]),s._v("\n\tkadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addprinc -randkey presto/node1"')]),s._v("\n\tkadmin -padmin/admin -whadoop -q"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xst -k /etc/security/keytab/presto.service.keytab presto/node1"')]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" presto:hadoop /etc/security/keytab/presto.service.keytab "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改权限")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建HTTPS协议所需密钥对")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("注意： node1\n（1）alias（别名）需要和Presto Coordinator的Kerberos主体名保持一致\n（2）名字与姓氏 需要填写Coordinator所在的主机名\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用Java提供的keytool工具生成密钥对")]),s._v("\nkeytool -genkeypair -alias presto -keyalg RSA -keystore /etc/security/keytab/keystore.jks\n\n输入密钥库口令:  hadoop\n再次输入新口令: \n您的名字与姓氏是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  node1\n您的组织单位名称是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  \n您的组织名称是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  \n您所在的城市或区域名称是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  \n您所在的省/市/自治区名称是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  \n该单位的双字母国家/地区代码是什么?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unknown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CN")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node1, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OU")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("O")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("L")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("C")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Unknown是否正确?\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("否"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":  y\n\n输入 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("presto"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 的密钥口令\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("如果和密钥库口令相同, 按回车"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改keystore文件的所有者和访问权限")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" presto:hadoop /etc/security/keytab/keystore.jks\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("660")]),s._v(" /etc/security/keytab/keystore.jks\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改Presto Coordinator配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改Presto Coordinator配置文件")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /opt/module/presto/etc/config.properties\n\nhttp-server.authentication.type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("KERBEROS\nhttp.server.authentication.krb5.service-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("presto\nhttp.server.authentication.krb5.keytab"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/security/keytab/presto.service.keytab\nhttp.authentication.krb5.config"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/krb5.conf\nhttp-server.https.enabled"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\nhttp-server.https.port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7778")]),s._v("\nhttp-server.https.keystore.path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/security/keytab/keystore.jks\nhttp-server.https.keystore.key"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hadoop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改Hive Connector配置文件(node1:)")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在/opt/module/presto/etc/catalog/hive.properties中增加以下参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /opt/module/presto/etc/catalog/hive.properties\n\nhive.metastore.authentication.type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("KERBEROS\nhive.metastore.service.principal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("hive/node1@EXAMPLE.COM\nhive.metastore.client.principal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("presto@EXAMPLE.COM\nhive.metastore.client.keytab"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/security/keytab/presto.keytab\n\nhive.hdfs.authentication.type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("KERBEROS\nhive.hdfs.impersonation.enabled"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\nhive.hdfs.presto.principal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("presto@EXAMPLE.COM\nhive.hdfs.presto.keytab"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/security/keytab/presto.keytab\nhive.config.resources"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml,/opt/module/hadoop-3.1.3/etc/hadoop/hdfs-site.xml\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分发/opt/module/presto/etc/catalog/hive.properties文件")]),s._v("\nxsync /opt/module/presto/etc/catalog/hive.properties\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置客户端Kerberos主体到用户名之间的映射规则")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#node1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /opt/module/presto/etc/access-control.properties\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加")]),s._v("\n access-control.name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file\n security.config-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("etc/rules.json\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /opt/module/presto/etc/rules.json\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加")]),s._v("\n \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"catalogs"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"allow"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_patterns"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(.*)"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"([a-zA-Z]+)/?.*@.*"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置Presto代理用户")])])]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[s._v("#修改hadoop配置文件\nvim $HADOOP_HOME/etc/hadoop/core-site.xml\n#添加\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hadoop.proxyuser.presto.hosts"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hadoop.proxyuser.presto.groups"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hadoop.proxyuser.presto.users"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n#分发修改的文件\nxsync $HADOOP_HOME/etc/hadoop/core-site.xml\n\n#重启Hadoop集群\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("ul",[a("li",[s._v("重启Presto集群")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#3台 #如果启动就关闭\n/opt/module/presto/bin/launcher stop\n#修改Presto安装路径所有者为presto （3台）\nchown -R presto:hadoop /opt/module/presto\n#使用hive用户启动MetaStore服务（node1)\nsudo -i -u hive hive --service metastore\n#使用presto用户启动Presto集群(3台)\nsudo -i -u presto /opt/module/presto/bin/launcher start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("客户端认证访问Presto集群 （可封装脚本）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#在/opt/software/presto/   下执行\n./prestocli \\\n--server https://node1:7778 \\\n--catalog hive \\\n--schema default \\\n--enable-authentication \\\n--krb5-remote-service-name presto \\\n--krb5-config-path /etc/krb5.conf \\\n--krb5-principal hadoop101@EXAMPLE.COM \\\n--krb5-keytab-path /home/hadoop101/hadoop101.keytab \\\n--keystore-path /etc/security/keytab/keystore.jks \\\n--keystore-password hadoop \\\n--user hadoop101\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])]),s._v(" "),a("p",[s._v("这里出现了异常")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Query 20211020_093515_00002_9s9zr failed: Access Denied: Principal hadoop101@EXAMPLE.COM cannot become user hadoop101\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"kylin配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kylin配置"}},[s._v("#")]),s._v(" Kylin配置")]),s._v(" "),a("p",[a("strong",[s._v("改动说明")]),s._v("：")]),s._v(" "),a("p",[s._v("从Kylin的架构，可以看出Kylin充当只是一个Hadoop客户端，读取Hive数据，利用MR或Spark进行计算，将Cube存储至HBase中。所以在安全的Hadoop环境下，Kylin不需要做额外的配置，只需要具备一个Kerberos主体，进行常规的认证即可。")]),s._v(" "),a("p",[s._v("但是Kylin所依赖的HBase需要进行额外的配置，才能在安全的Hadoop环境下正常工作。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("HBase开启Kerberos认证")])]),s._v(" "),a("li",[a("strong",[s._v("Kylin进行Kerberos认证")])])]),s._v(" "),a("h3",{attrs:{id:"权限管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限管理"}},[s._v("#")]),s._v(" 权限管理")]),s._v(" "),a("p",[a("strong",[s._v("了解Ranger安装和基本配置")])]),s._v(" "),a("h2",{attrs:{id:"元数据管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元数据管理"}},[s._v("#")]),s._v(" 元数据管理")]),s._v(" "),a("p",[s._v("可用Altal进行管理，其中采用的集成外部Hbase+Solr，了解可集成组件和方法。")]),s._v(" "),a("p",[s._v("可清晰让我们知道每个流程的依赖，方便后续管理。")]),s._v(" "),a("h2",{attrs:{id:"数据质量检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据质量检测"}},[s._v("#")]),s._v(" 数据质量检测")]),s._v(" "),a("p",[s._v("对数仓各个阶段的数据质量，进行识别检测，利用python+shell进行识别，存储入库，然后再用superset报表")]),s._v(" "),a("p",[a("strong",[s._v("指标")]),s._v("：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("em",[a("strong",[s._v("*评价标准*")])])]),s._v(" "),a("th",[a("em",[a("strong",[s._v("*描述*")])])]),s._v(" "),a("th",[a("em",[a("strong",[s._v("*监控项*")])])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("em",[a("strong",[s._v("*唯一性*")])])]),s._v(" "),a("td",[s._v("指主键保持唯一")]),s._v(" "),a("td",[s._v("字段唯一性检查")])]),s._v(" "),a("tr",[a("td",[a("em",[a("strong",[s._v("*完整性*")])])]),s._v(" "),a("td",[s._v("主要包括记录缺失和字段值缺失等方面")]),s._v(" "),a("td",[s._v("字段枚举值检查")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("字段记录数检查")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("字段空值检查")])]),s._v(" "),a("tr",[a("td",[a("em",[a("strong",[s._v("*精确度*")])])]),s._v(" "),a("td",[s._v("数据生成的正确性，数据在整个链路流转的正确性")]),s._v(" "),a("td",[s._v("波动阀值检查")])]),s._v(" "),a("tr",[a("td",[a("em",[a("strong",[s._v("*合法性*")])])]),s._v(" "),a("td",[s._v("主要包括格式、类型、域值的合法性")]),s._v(" "),a("td",[s._v("字段日期格式检查")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("字段长度检查")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td"),s._v(" "),a("td",[s._v("字段值域检查")])]),s._v(" "),a("tr",[a("td",[a("em",[a("strong",[s._v("*时效性*")])])]),s._v(" "),a("td",[s._v("主要包括数据处理的时效性")]),s._v(" "),a("td",[s._v("批处理是否按时完成")])])])]),s._v(" "),a("h2",{attrs:{id:"🎇导图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🎇导图"}},[s._v("#")]),s._v(" 🎇导图")]),s._v(" "),a("iframe",{attrs:{src:"https://gitmind.com/app/doc/ba35122260",width:"100%",height:"800",frameborder:"0",scrolling:"No",leftmargin:"0",topmargin:"0"}})])}),[],!1,null,null,null);n.default=e.exports}}]);
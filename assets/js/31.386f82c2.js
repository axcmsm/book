(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{465:function(s,n,a){"use strict";a.r(n);var e=a(16),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("Oozie驯象人,工作流调度软件,需要自己部署,xml配置")]),s._v(" "),a("p",[s._v("官网:"),a("a",{attrs:{href:"https://oozie.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://oozie.apache.org/"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("模块")]),s._v("：三个配置文件")]),s._v(" "),a("ul",[a("li",[s._v("workflow:顺序流程节点、支持fork(分开)、join(合并)  (核心)")]),s._v(" "),a("li",[s._v("coordinator:定时触发workflow")]),s._v(" "),a("li",[s._v("Bundle job: 绑定多个coordinator")])]),s._v(" "),a("p",[a("strong",[s._v("workflow常用节点")]),s._v(":")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("control node "),a("strong",[s._v("控制流节点")]),s._v("：start、end、kill、fork、join、decision等")])]),s._v(" "),a("li",[a("p",[s._v("action node "),a("strong",[s._v("动作节点")]),s._v(" 具体任务类型：mr spark shell java hive shell等")])])]),s._v(" "),a("blockquote",[a("p",[s._v("结合起来描绘出一个工作流 DAG图")])]),s._v(" "),a("h2",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),a("ul",[a("li",[s._v("配置httos服务")]),s._v(" "),a("li",[s._v("配置jobhistory服务")]),s._v(" "),a("li",[s._v("重启hadoop相关服务")]),s._v(" "),a("li",[s._v("解压oozie安装包")]),s._v(" "),a("li",[s._v("分发")])]),s._v(" "),a("p",[s._v("因为版本不兼容问题,可以用cdh版本进行安装，此处不做介绍")]),s._v(" "),a("h2",{attrs:{id:"基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[s._v("#")]),s._v(" "),a("strong",[s._v("基本使用")])]),s._v(" "),a("p",[s._v("解压官方指定的"),a("code",[s._v("oozie-example.tar.gz")]),s._v("包")]),s._v(" "),a("p",[s._v("进入"),a("code",[s._v("examples")]),s._v("里面的"),a("code",[s._v("apps")]),s._v("有很多配置模板(需要用到修改即可)")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("调用shell脚本")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.进入`examples`里面的`apps`目录包shell目录拷贝到你指定的配置目录\n2.里面有俩个文件:job.properties和workflow.xml\n job.properties 配置nd、yn、放置脚本的目录\n workflow.xml 配置任务相关信息 俩个文件之间可以用${}调用定义的变量\n 执行文件也需要用${调用}\n3.把这三个文件一同上传到你指定的目录下\n4.执行任务\nbin/oozie job -oozie 发布任务地址 -config job.properties路径  -run\n5.web页面查看任务\n6.杀死任务\nbin/oozie job -oozie 发布任务地址 -kill 任务id\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("指定多个job")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.解压官方案例模板\n2.编写脚本\n3.修改配置文件properties和xml文件\n\tproperties文件中添加\n\t \tExEC1=脚本\n\t \tExEC2=脚本2\n\txml文件中修改\n\t\t<exect>${ExEC1}<exect>\n\t\t<file>放置脚本的路径/${ExEC1}#${ExEC1}<file>\n\t\t\n4.上传到指定目录\n5.运行任务\nbin/oozie job -oozie 发布任务地址 -config job.properties路径  -run\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("调度MR任务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.编写mr任务打成jar包\n2.拷贝官方的mr模板到指定目录进行配置文件的修改\n3.测试mr任务是否能正常运行\n4.配置文件 把jar包放在lib下\n\tproperties 修改基本配置dn、yarn\n\t\toutputDir=map-reduce #可以定多个mr任务\n\txml\n\t\t类名、输入、输出、调用新api\n5.上传到指定目录\n6.启动\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("调度定时任务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("配置好时间统一\n1.拷贝定时任务模板cron到指定目录进行修改\n2.修改配置文件\n\tproperties 修改基本配置dn、yarn\n\t\t#生效时间\n\t\tstart=定时任务开始时间 (未来时间)\n\t\tend=定时任务结束时间  \n\tworrkflow.xml 修改执行\n\tcoordihator.xml 修改定时规则\n\t\tfrequency配置规则\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("配置请参照"),a("a",{attrs:{href:"https://oozie.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=t.exports}}]);